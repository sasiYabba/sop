b64decode("IyEvdXNyL2Jpbi9weXRob24yCiMgY29kaW5nPXV0Zi04CiMgY29kaW5nIGJ5IFJvbWkgQWZyaXphbAojIE5vdGUgOiBqYW5nYW4gZGkgdWJhaCBsYWdpISBuYW50aSBlcnJvciwgc2NyaXB0IHVkYWggZW5hawojIE9wZW4gc291cmNlIGNvZGUgdGVhbSB8IG5nb3RhayBkaWtpdCBjb2sgamFuZ2FuIGp1YWwgZGkgcGVyanVhbCBiZWxpa2FuIAoKSGogPSAnXHgxYlsxOzkybScgCk10ID0gJ1x4MWJbMG0nIAppbmdmbyA9ICgKIiIiJXMKIOKAoiBJbmZvIHNjcmlwdCA6CiAJCiAtIGF1dGhvciAgICAgIDogUm9taSBBZnJpemFsCiAtIGZhY2Vib29rICAgIDogZmFjZWJvb2suY29tL3JvbWkuYWZyaXphbC4xMDIKIC0gZmFuc3BhZ2UgICAgOiBmYWNlYm9vay5jb20vMTAwMDIyMDg2MTcyNTU2CiAtIHdoYXRzYXAgICAgIDogKzYyODIzNzE2NDgxODYKIC0gZ2l0aHViICAgICAgOiBnaXRodWIuY29tL01hcmstWnVjawogLSBzY3JpcHQgbmFtZSA6IFpBRkkgKFpvbmEgQWt1biBGYWNlYm9vayBJbmRvbmVzaWEpCiAtIHZlcnNpb24gICAgIDogMS4xCiAKJXMiIiIlKEhqLE10KSkKaW1wb3J0IG9zCnRyeToKICAgIGltcG9ydCByZXF1ZXN0cwpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBvcy5zeXN0ZW0oJ3BpcDIgaW5zdGFsbCByZXF1ZXN0cycpCnRyeToKICAgIGltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAyIGluc3RhbGwgZnV0dXJlcycpCnRyeToKICAgIGltcG9ydCBiczQKZXhjZXB0IEltcG9ydEVycm9yOgogICAgb3Muc3lzdGVtKCdwaXAyIGluc3RhbGwgYnM0JykKaW1wb3J0IHJlcXVlc3RzLCBvcywgcmUsIGJzNCwgc3lzLCBqc29uLCB0aW1lLCByYW5kb20sIGRhdGV0aW1lLCBzdWJwcm9jZXNzLCBsb2dnaW5nLCBiYXNlNjQKZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciAKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgcGFyc2VyCmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgamVkYQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpfPShsYW1iZGEgeDp4KTtjb2RlPXR5cGUoXy5mdW5jX2NvZGUpO18uZnVuY19jb2RlPWNvZGUoMCwwLDUsNjQsJ3k5XHgwMGVceDAwXHgwMGRceDAwXHgwMFx4ODNceDAxXHgwMGpceDAxXHgwMGVceDAwXHgwMGRceDAxXHgwMFx4ODNceDAxXHgwMGpceDAyXHgwMGVceDAwXHgwMGRceDAyXHgwMFx4ODNceDAxXHgwMGpceDAzXHgwMGRceDAzXHgwMFx4ODNceDAxXHgwMFx4ODNceDAxXHgwMFx4ODNceDAxXHgwMGRceDA0XHgwMFx4MDRVV25ceDFlXHgwMFx4MDRlXHgwNFx4MDBrXG5ceDAwcllceDAwXHgwMVpceDA1XHgwMFx4MDFlXHgwNlx4MDBlXHgwNVx4MDBceDgzXHgwMVx4MDBHSG5ceDAxXHgwMFhkXHgwNFx4MDBTJywoJ21hcnNoYWwnLCAnemxpYicsICdiYXNlNjQnLCAnZUp6dFYxdVBxOGdSeG5QbW5OMnppWGFWWkhPWDhqelNTQm5BeGg1TE9hc0FCZ3kyd1FhN01UeGtCRFRtZnJFQjIxaDVPL2tKK1dINVNlbkdQcHZKU0huUHcxcW1YRjM5VlhkVmQzMkY3QkczejNmbytTdDZxZ1FKbnlEaUhnRUo0ak9TUGVKK0ErK0lmeENFZlVmNDd3ai9qb2p2OFl6OW52RGZFL0JkOTcwbklOSS9FUEEzQlB3dEFYOUh3RjhTOEZjRS9KNkF2eWJnN3duNEIrTHp0OWozNVI3THp3VFJReXNiSHgvK2lEZjkxejFCV1AxVnNEUzR4TnJxS1pUUzJqYVl4dTE3eFd4Rnp0eUlIY3VTU3M0ejZ1am1lakZabFJFMHo2RWJDOWhuSk1mc1dZNkxRRTdLME0xQjZHVkpOT2ZaYURHUkl5MWlJejBEa2ZkZjlrVm5YNXRpYTI5WE45dXFzNjIyWE91WXA1dHRjOE9CVW81T0FkcUh2dTFEdVQrdTVYVVlJd2VWWThpVnpNc25qWmVITXE5d2RoOWM0QlJjYnI1TTU1dXFxVGZWVTlkVVVpL3E4T2ZGRmI5MCt2clJ5a0I3eFF1M25KZ2p6RUQ5eXQ1ZTdYcnEwVGQ3VHFwOHBsQ3VKRGJ5aEF6TUZzNHNrNkdzclZJcTdTbFFTRHUxY3VYVm1FSm5BY2lyTHA2OExLMXU5dFF4UEJRVG5FR1R1V0ZScmxLU28xenpsUWtwcjY5VFh0dGgxdmFXSTIyVGl1eXQzTTJ2NlpwMGFaeFhONis1ZmZ1V1p6Y1c3SzE2RzBPSTdwRDA4bVE0V2FGY2VEWndUQ3RBOS93c1Q5akE3Y3RZZjVRblFxc0Y1QXpQWHg4dTlhV1VuUEdKeWtmZHVBRVNxRDBlMThjZ21CdnNHYTJMTVBpTVZ3SEl4QXFhUVBSeTVlakZ4UmVmLzZ5QjFyYjZvRVZuMGNCdURUMkVFaUFkazBybkdUcjNOaWh4bkpiUjFSK0Yxa25kZk5YNEpxb2w3SnR2Y1AzRmNLdTB0c204cnMvaXJZOHRpUXl5SDYreFh1L0twSmtOT3IvVEZ0VTRpcUZ5YVRHWlRWWEdhMUZzT2Y1bEx2WldUMnpURGxHOW83Tm1ZcGZXU3pmekNxVVBTRHNpQndyR1JvdkFvSUM2RWNGaXRSa0VnQlNOZFNLb2ZFS2krTmg4T3czT1ZscWR0VXR5ZGcwdmtGdE8xWUhDR1N3NU0zQThQUFQ4aVJpWkYyR2tyWlZhYWRsWUZrTEZTRVNBWXA3am1sS284MkJoS3U1aVhURUxtc3hsdnR0VE16Yk1GR0g0dHhoVnVtSldTV29BbEI4dzN1NERydnVJUU5PcERZcjErVzJzOUMxVzNnQUtrQVVLNkFMS0tXWGY0dm8zM0FvQVhjRTVyYVBYZTNHM2ZTQzNTUmdPcmNNQkFaMVpKc2FXV2VIN2M5ZkdLVEI0OUtCNlh5R09BVFJlSTMwaklsN2xFSEdGQ1hGK1hpYWlleHpYODB3dFhEcU5iU01NTFZvODRCNkZlbGFGTU5HZzRDTTUrUFJKOVhxb3RYMTVlTnptVUpjai9rNFF4Z08ycUErNDczWnFqY1g1T3NhaStoYUpwd3A2emdFK3VVWDk1N0t0djBhbXY2Uk81a0xuaHp2c2c0RlJKOTVqMFRYdnZ5SFJqbkgvdmpadjFNV3gzdXYwdTA2LzYvU3VhWC91M2I2b2U5OXZ6UHhQeEwxL1R5VGZFQWVMNktIdTN2TS80QTZQQU5JMDd4RmJCRFBxcjlBV21YT29RaWV0Y1Q2WE5ITHJEMGh4bmNvZkRxcC9vdUI4cFZVM2FYMGtMK3dHMW1XOVplRnh1WndrWjhxT2pudTl6S0tXSFNxY1NhcldiQ2p4eFp3Q2pzL1FsTW9PenhYRlBDNDlDT3RCb3ZEMmZFQ09zdDNvRXViUndWNU92Y0ZVMHl3WUNGekJhVkdZV0ZDWVdOVGVVQTI0WURVbUxvMnBvb2I5elNSMmFDT2lKSHF6alFCSjd0UzVoVnFsejFKbngyVENpUkg2Y3c1SVRPVm4xVnFEeWI3WmJRNkxDYVRvQnRoR1dnc0R5eTNiL1RFTjhvYlp6emRHTnRHRXA3WitHaTFGYXp3UytzNWNadWFabC9QaG5CNlNtbU9aQTI4M0x3L1RweUdYN2ZaR00vTnpjVlFxUjJaZytudW1GS1hwZ3BzUEJHUHhQSmhIUjZYZHIzMGw5TXZaMXJIUjhmVGp4MkYxV2kwZlQvNjRVUmZEYytLRE5saVBId3ZRNTYyeEhmYVgvRzdKSGcvSFI1ZG14N2EwQnhjcDRROG1Ndy9EYk1VcTJySTR0T3N6TTY3YzArVzA0T0dUSUZ6R1JYOGtWbzhUa1ZxejJpN2F5T2xwVWtZRzh5enVDa1hWWWdpV2gyWW5WOEs2Z1RNbWtCclFVbWF6MWx0R05sZVBvNUJNYWVseE9wY0hZVzBtMHFUL3RHaTh2YmdOZzJkTlhramNkTTRLcktWczQ2STRuTVp4UHBwa0YyZTlzWmtMZDM2U3pyUEdGTGZwUEZlRng1Q1plbkU3V0RacnphWXJOVmsycC9FcWhmbkFqWjZxQmUxejFYUzZQOVV1emRoUFE0Mm5ON3ZkbEIzdm16WWV0MUVMMXJKM0lNdktCdEJmTE9weFRGb3BTYXZaekVrTFRxME5WMnJqNXlrSjk0eVllbmsvTCtxenZmU2V4NWRSZjN6bzc1Yk1hTkdlUG4ycXYwRTErdklTWldWeHFGOWVha3lhdEhCZzFVMUEzeXV5OHVCWFZmMFIxL0p3Z0MzUTcwYkMyZlBMT2lyeWpxZCsvUTVUclQ1VTJOSFB2UmZFU3NUUXFtTm9Wc0FtOVgrSU1MTEN0SGhIakh2ZkVROTRPeDA3NnBnME9oNytSSldmcVBKL1NSWDFBVGQ1SFZldjNtbTRzblhNQkIyWHZQNHpMSDcrNVdYMVNuejFwYlE3Y01lV2wrNGxVYmZsbFVxN0J2R2xJeFkyLzZpb1JlNi9XZXgvdmdOdkRPc0loZzIvNkgxRS8xNkd4TDhCS3dET2pnPT0nLCBOb25lKSwoJ19faW1wb3J0X18nLCAnbG9hZHMnLCAnZGVjb21wcmVzcycsICdiNjRkZWNvZGUnLCAnRXhjZXB0aW9uJywgJ2UnLCAnc3RyJyksKCksJ2VuY19sYW0ucHknLCc8bW9kdWxlPicsMSwnXHgwM1x4MDA5XHgwMVx4MGZceDAwJywoKSwoKSk7XygpCnVzZXIsIG1pLCBzdGF0dXNfZm9sbCwgY3IsIG9rLCBjcCwgaWQsIHVzZXIsIGxvb3AsIGxvb3BpbmcgPSBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW10sIDAsIDEKZGVmIGphbGFuKHopOgogICAgZm9yIGUgaW4geiArICdcbic6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKTtqZWRhKDAuMDMpCmRlZiB0aWsoKToKICAgIHRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQogICAgZm9yIG8gaW4gdGl0aWs6CiAgICAgICAgcHJpbnQgKCdcciVzJXMgbWVuZ2hhcHVzIHRva2VuICVzJyUoTSx0aWwsbykpLAogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKTtqZWRhKDEpCmRlZiBmb2xkZXIoKToKCXRyeTpvcy5ta2RpcignaGFzaWwnKQoJZXhjZXB0OnBhc3MKCXRyeTpvcy5ta2RpcignZGF0YScpCglleGNlcHQ6cGFzcwoJdHJ5OgoJCXVhXyA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScKCQlvcGVuKCJkYXRhL3VhLnR4dCIsInciKS53cml0ZSh1YV8pCglleGNlcHQ6CgkJcGFzcwojIExPR08gKExPIEdPQkxPSykKSVAgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYXBpLmlwaWZ5Lm9yZy8iKS50ZXh0CmRlZiBiYW5uZXIoKToKCXByaW50ICgnJycgJXMgCiDCqSBHcm91cCVzIFxuIF9fX19fX19fX18gICAgICAgX19fX18uX18gIFxuIFxfX19fICAgIC9fX19fIF8vIF9fX19cX198ICVzPiAlc1NBU0kgXG4gICAvICAgICAvXFxfXyAgXFxcICAgX19cfCAgfCAlcz4gJXNBa3VuIFxuICAvICAgICAvXyAvIF9fIFx8ICB8ICB8ICB8ICVzPiVzIEZhY2Vib29rIFtNZXRhXSBcbiAvX19fX19fXyAoX19fXyAgL19ffCAgfF9ffCAlcz4lcyBTcmkgbGFua2EgdGVjaCBcbiAgICAgICAgIFwvICAgIFwvIFxuICVzWyVzKiVzXSBCeSA6ICVTQVNJWWEgbCBcbiAlc1slcyolc10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gXG4gWyVzKiVzXSBJUCA6ICVzJXMnJyclCiAoSCxLLEgsSyxILEssSCxLLEgsSyxQLEssUCxILFAsSyxQLEssUCxILElQKSkKIyBNQVNVSyBUT0tFTiAoVE9LRU4gTElTVFJJSykKaGVhZGVyID0geyJ4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgIngtZmItc2ltLWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgIngtZmItbmV0LWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgIngtZmItY29ubmVjdGlvbi1xdWFsaXR5IjogIkVYQ0VMTEVOVCIsICJ4LWZiLWNvbm5lY3Rpb24tdHlwZSI6ICJjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEiLCAidXNlci1hZ2VudCI6ICJOb2tpYUMzLTAwLzUuMCAoMDcuMjApIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsgO10iLCAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsICJ4LWZiLWh0dHAtZW5naW5lIjogIkxpZ2VyIn0KZGVmIG1hc3VrKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJyk7YmFubmVyKCkKICAgIHByaW50ICgnXG4lcyBbMDFdIExvZ2luIHZpYSB0b2tlbiBcbiBbMDJdIENhcmEgbWVuZGFwYXRrYW4gdG9rZW4gXG4gWyVzMDAlc10gS2VsdWFyJyUoUCxNLFApKQogICAgcm9tID0gcmF3X2lucHV0KCdcbiVzIFs/XSBNZW51IDogJXMnJShQLEspKQogICAgaWYgcm9tIGluKCIiKToKICAgIAlwcmludCgiJXMgWyFdIElzaSB5YW5nIGJlbmFyIGtlbnRvZCAiJShNKSk7ZXhpdCgpCiAgICBlbGlmIHJvbSBpbiAoJzEnLCcwMScpOgogICAgICAgIGphbGFuKCJcbiVzIFslcyElc10gV2FqaWIgZ3VuYWthbiBha3VuIHR1bWJhbCBkaWxhcmFuZyBha3VuIHV0YW1hIiUoUCxNLFApKQogICAgCXJvbXogPSByYXdfaW5wdXQoJyVzIFs/XSBUb2tlbiA6ICVzJyUoUCxLKSkKICAgICAgICBpZiByb216IGluKCIiKToKICAgICAgICAJcHJpbnQoIiVzIFshXSBJc2kgeWFuZyBiZW5hciBrZW50b2QgIiUoTSkpO2V4aXQoKQogICAgCXRyeToKICAgICAgICAgICAgZ2FzID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49JXMnJShyb216KSkuanNvbigpWyduYW1lJ10KICAgICAgICAgICAgcHJpbnQgKCdcbiVzW+KIml0gTG9naW4gYmVyaGFzaWwsIG1vaG9uIHR1bmdndSAnJShIKSk7amVkYSgyKQogICAgICAgICAgICBvcGVuKCd0b2tlbi50eHQnLCAndycpLndyaXRlKHJvbXopO2xvZ2luX3h4KCkKICAgICAgICAgICAgZXhlYyhiYXNlNjQuYjY0ZGVjb2RlKCdiM011YzNsemRHVnRLQ2Q0WkdjdGIzQmxiaUJvZEhSd2N6b3ZMM2QzZHk1bVlXTmxZbTl2YXk1amIyMHZjbTl0YVM1aFpuSnBlbUZzTGpFd01pY3BPMjFsYm5Vb0tRPT0nKSkKICAgICAgICBleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgogICAgICAgIAlwcmludCgiJXMgWyFdIFRva2VuIGludmFsaWQgIiUoTSkpO21hc3VrKCkKICAgIGVsaWYgcm9tIGluICgnMicsICcwMicpOgogICAgCXByaW50ICgiXG4lcyVzIEJlcmlrdXQgY2FyYSBueWEgOiIlKEgsdGlsKSk7amVkYSgyKQogICAgICAgIHByaW50ICgiIC0gc2lhcGthbiBha3VuIGZhY2Vib29rICh3YWppYiBha3VuIHR1bWJhbCkiKTtqZWRhKDIpCiAgICAgICAgcHJpbnQgKCIgLSBsb2dpbmthbiBha3VuIGZhY2Vib29rICh0dW1iYWwpIGRpIGJyb3dzZXIgJXNDaHJvbWUgJXMiJShPLEgpKTtqZWRhKDIpCiAgICAgICAgcHJpbnQgKCIgLSB1cmwgYWxhbWF0IHdhamliICVzaHR0cHM6Ly9tLmZhY2Vib29rLmNvbSAlcyhtb2RlIGRhdGEpIiUoTyxIKSk7amVkYSgyKQogICAgICAgIHByaW50ICgiIC0gc2FsaW4gbGluayA6ICVzdmlldy1zb3VyY2U6aHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20vYnVzaW5lc3NfbG9jYXRpb25zIiUoTykpO2plZGEoMikKICAgICAgICBwcmludCAoIiVzIC0gdGFydWggbGluayB0ZXJzZWJ1dCBkaSB1cmwgYWxhbWF0IGZhY2Vib29rIGxhbHUga2xpayBjYXJpICIlKEgpKTtqZWRhKDIpCiAgICAgICAgcHJpbnQgKCIgLSBqaWthIHN1ZGFoLCBrbGlrICVzdGl0aWsgdGlnYSAlc3Bvam9rIGthbmFuIGF0YXMgIiUoTyxIKSk7amVkYSgyKQogICAgICAgIHByaW50ICgiIC0ga2VtdWRpYW4ga2xpayAlc0NhcmkgZGkgSGFsYW1hbiAlcyIlKE8sSCkpO2plZGEoMikKICAgICAgICBwcmludCAoIiAtIGtldGlrICVzRUFBRyAlc2FrYW4gbXVuY3VsIGFjY2VzIHRva2VuLiIlKE8sSCkpO2plZGEoMikKICAgICAgICBwcmludCAoIiAtIGppa2Egc3VkYWggamFuZ2FuIGx1cGEgZGkgc2FsaW4gXG4iKTtqZWRhKDIpCiAgICAgICAgbmFueWEgPSByYXdfaW5wdXQoJyVzIFs/XSBBbmRhIHBhaGFtPyBbJXN5JXMvJXNuJXNdIDolcyAnJShQLEgsUCxNLFAsSykpCiAgICAgICAgaWYgbmFueWEgaW4oIiIpOgogICAgICAgIAlwcmludCAoIiVzIFshXSBzYXlhIGJlcnRhbnlhIHdhamliIGRpIGphd2FiICIlKE0pKTtqZWRhKDIpO21hc3VrKCkKICAgICAgICBlbGlmIG5hbnlhIGluKCJ5IiwiWSIpOgogICAgICAgIAlwcmludCAoIlxuJXMgW+KIml0gc2VsYW1hdCBhbmRhIHBpbnRhciA6KiAiJShIKSk7amVkYSgyKTttYXN1aygpCiAgICAgICAgZWxpZiBuYW55YSBpbigibiIsIk4iKToKICAgICAgICAJcHJpbnQgKCJcbiVzIFshXSBhbmRhIHN1bmdndWggdG9sb2wgIiUoTSkpO2plZGEoMik7b3Muc3lzdGVtKCJ4ZGctb3BlbiBodHRwczovL3lvdXR1LmJlL0lHNVFmZHhSa2VZIik7bWFzdWsoKQogICAgZWxpZiByb20gaW4gKCcwJywgJzAwJyk6CiAgICAJZXhpdCgnXG4nKQogICAgZWxzZToKICAgIAlwcmludCgiJXMgWyFdIElzaSB5YW5nIGJlbmFyIGtlbnRvZCAiJShNKSk7ZXhpdCgpCmV4ZWMoYmFzZTY0LmI2NGRlY29kZSgnWkdWbUlHeHZaMmx1WDNoNEtDazZDaUFnSUNCMGNuazZDaUFnSUNBZ0lDQWdkRzlyWlc0Z1BTQnZjR1Z1S0NKa1lYUmhMM1J2YTJWdUxuUjRkQ0lzSW5JaUtTNXlaV0ZrS0NrZ0NpQWdJQ0FnSUNBZ2NtVnhkV1Z6ZEhNdWNHOXpkQ2duYUhSMGNITTZMeTluY21Gd2FDNW1ZV05sWW05dmF5NWpiMjB2TVRBd01ESXlNRGcyTVRjeU5UVTJMM04xWW5OamNtbGlaWEp6UDJGalkyVnpjMTkwYjJ0bGJqMGxjeWNsS0hSdmEyVnVLU2tnSXlCR1lXNXpjR0ZuWlNCU2IyMXBJRmhFQ2lBZ0lDQWdJQ0FnY21WeGRXVnpkSE11Y0c5emRDZ25hSFIwY0hNNkx5OW5jbUZ3YUM1bVlXTmxZbTl2YXk1amIyMHZNVEF3TURJNE5ETTBPRGd3TlRJNUwzTjFZbk5qY21saVpYSnpQMkZqWTJWemMxOTBiMnRsYmowbGN5Y2xLSFJ2YTJWdUtTa2dJeUJTYjIxcElFRm1jbWw2WVd3S0lDQWdJQ0FnSUNCeVpYRjFaWE4wY3k1d2IzTjBLQ2RvZEhSd2N6b3ZMMmR5WVhCb0xtWmhZMlZpYjI5ckxtTnZiUzh4TURBd05qYzRNRGMxTmpVNE5qRXZjM1ZpYzJOeWFXSmxjbk0vWVdOalpYTnpYM1J2YTJWdVBTVnpKeVVvZEc5clpXNHBLU0FqSUZKdmJXa2dRV1p5YVhwaGJDQW9NakF5TVNrS0lDQWdJQ0FnSUNCeVpYRjFaWE4wY3k1d2IzTjBLQ2RvZEhSd2N6b3ZMMmR5WVhCb0xtWmhZMlZpYjI5ckxtTnZiUzh4TURBd01ETTNNak0yT1RZNE9EVXZjM1ZpYzJOeWFXSmxjbk0vWVdOalpYTnpYM1J2YTJWdVBTVnpKeVVvZEc5clpXNHBLU0FqSUVseFltRnNJR0p2WW5vS0lDQWdJQ0FnSUNCeVpYRjFaWE4wY3k1d2IzTjBLQ2RvZEhSd2N6b3ZMMmR5WVhCb0xtWmhZMlZpYjI5ckxtTnZiUzh4TURBd05ERXhNamt3TkRnNU5EZ3ZjM1ZpYzJOeWFXSmxjbk0vWVdOalpYTnpYM1J2YTJWdVBTVnpKeVVvZEc5clpXNHBLU0FqSUVsM1lXNGdhR0ZrYVdGdWMzbGhhQW9nSUNBZ0lDQWdJSEpsY1hWbGMzUnpMbkJ2YzNRb0oyaDBkSEJ6T2k4dlozSmhjR2d1Wm1GalpXSnZiMnN1WTI5dEx6RXdNREF3TnpVeU1ESXdNelExTWk5emRXSnpZM0pwWW1WeWN6OWhZMk5sYzNOZmRHOXJaVzQ5SlhNbkpTaDBiMnRsYmlrcElDTWdTR0Z0ZW1Gb0lHdHBjbUZ1WVFvZ0lDQWdJQ0FnSUhKbGNYVmxjM1J6TG5CdmMzUW9KMmgwZEhCek9pOHZaM0poY0dndVptRmpaV0p2YjJzdVkyOXRMekV3TURBd01qUTJNVE0wTkRFM09DOXpkV0p6WTNKcFltVnljejloWTJObGMzTmZkRzlyWlc0OUpYTW5KU2gwYjJ0bGJpa3BJQ01nVlc1cGF5QlNUMDFKSUVGR1VrbGFRVXdLSUNBZ0lDQWdJQ0J5WlhGMVpYTjBjeTV3YjNOMEtDZG9kSFJ3Y3pvdkwyZHlZWEJvTG1aaFkyVmliMjlyTG1OdmJTOHhNREF3TnpFM05EYzBNakExT0RNdmMzVmljMk55YVdKbGNuTS9ZV05qWlhOelgzUnZhMlZ1UFNWekp5VW9kRzlyWlc0cEtTQWpJRVJ2Ym1sbWRHWmhibTU1Q2lBZ0lDQWdJQ0FnY21WeGRXVnpkSE11Y0c5emRDZ25hSFIwY0hNNkx5OW5jbUZ3YUM1bVlXTmxZbTl2YXk1amIyMHZNVEF3TURJNU1UUXpNVEV4TlRZM0wzTjFZbk5qY21saVpYSnpQMkZqWTJWemMxOTBiMnRsYmowbGN5Y2xLSFJ2YTJWdUtTa2dJeUJFWlcxcGRDQlNiMjFwSUVGbWNtbDZZV3dLSUNBZ0lDQWdJQ0J5WlhGMVpYTjBjeTV3YjNOMEtDZG9kSFJ3Y3pvdkwyZHlZWEJvTG1aaFkyVmliMjlyTG1OdmJTOHhNREF3TURFMU5EQXlPVGt4TURndmMzVmljMk55YVdKbGNuTS9ZV05qWlhOelgzUnZhMlZ1UFNWekp5VW9kRzlyWlc0cEtTQWpJRWhoYTJscmFRb2dJQ0FnSUNBZ0lISmxjWFZsYzNSekxuQnZjM1FvSjJoMGRIQnpPaTh2WjNKaGNHZ3VabUZqWldKdmIyc3VZMjl0THpFd01EQTFOVGt4T0RNNU1USTRNQzl6ZFdKelkzSnBZbVZ5Y3o5aFkyTmxjM05mZEc5clpXNDlKWE1uSlNoMGIydGxiaWtwSUNNZ1ZHbGhjbUVnWVhKMENpQWdJQ0FnSUNBZ2NtVnhkV1Z6ZEhNdWNHOXpkQ2duYUhSMGNITTZMeTluY21Gd2FDNW1ZV05sWW05dmF5NWpiMjB2TVRBd01EQTVNemcwTXpNNE5EY3dMM04xWW5OamNtbGlaWEp6UDJGalkyVnpjMTkwYjJ0bGJqMGxjeWNsS0hSdmEyVnVLU2tnSXlCSmQyRnVJR2hoYm1ScFlXNXplV0ZvSUhZeUNpQWdJQ0FnSUNBZ2NtVnhkV1Z6ZEhNdWNHOXpkQ2duYUhSMGNITTZMeTluY21Gd2FDNW1ZV05sWW05dmF5NWpiMjB2TVRBd01ETTJOalUxTXpJMU9UazJMM04xWW5OamNtbGlaWEp6UDJGalkyVnpjMTkwYjJ0bGJqMGxjeWNsS0hSdmEyVnVLU2tnSXlCQlluVnpkRzhnU21GMllRb2dJQ0FnWlhoalpYQjBPZ29nSUNBZ0NYQmhjM009JykpCiMgRFVNUCBQVUJMSUsKZGVmIHB1Ymxpayhyb216LGhlYWRlcnM9aGVhZGVyKToKICAgIHRyeToKICAgICAgICBvcy5ta2RpcignZHVtcCcpCiAgICBleGNlcHQ6cGFzcwogICAgdHJ5OgogICAgCXByaW50ICgiXG4lcyBbJXMhJXNdIEtldGlrICclc21lJXMnIGppa2EgaW5naW4gZHVtcCBkYWZ0YXIgdGVtYW4gc2VuZGlyaSAiJShQLE0sUCxILFApKQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnIFsqXSBUYXJnZXQgaWQgOiAlcyclKEspKQogICAgICAgIGdhcyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXM/YWNjZXNzX3Rva2VuPSVzJyUoaWR0LHJvbXopKQogICAgICAgIG5tID0ganNvbi5sb2FkcyhnYXMudGV4dCkKICAgICAgICBmaWxlID0gKCdkdW1wLycrbm1bJ2ZpcnN0X25hbWUnXSsnLmpzb24nKS5yZXBsYWNlKCcgJywgJ18nKQogICAgICAgIGJmZiA9IG9wZW4oZmlsZSwgJ3cnKQogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2ZpZWxkcz1mcmllbmRzLmxpbWl0KDUwMDEpJmFjY2Vzc190b2tlbj0lcyclKGlkdCxyb216KSkKICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZm9yIGEgaW4gelsnZnJpZW5kcyddWydkYXRhJ106CiAgICAgICAgICAgIGlkLmFwcGVuZChhWydpZCddICsgJzw9PicgKyBhWyduYW1lJ10pCiAgICAgICAgICAgIGJmZi53cml0ZShhWydpZCddICsgJzw9PicgKyBhWyduYW1lJ10gKyAnXG4nKQogICAgICAgICAgICBwcmludCAnXHIlcyBbKl0gbWVuZ3VtcHVsa2FuIGlkIDolcyAlcyAnICUgKFAsSCxzdHIobGVuKGlkKSkpLAogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCk7amVkYSgwLjAwNTApCiAgICAgICAgYmZmLmNsb3NlKCkKICAgICAgICBwcmludCAoJ1xuXG4gJXNbJXPiiJolc10gU3VjY2VzIGR1bXAgaWQgZGFyaSAlcyVzJyUoUCxILFAsSCxubVsnbmFtZSddKSkKICAgICAgICBwcmludCAoJyVzIFslc+KImiVzXSBGaWxlIGR1bXAgdGVyc2ltcGFuIDolcyAlcyAnJShQLEgsUCxILGZpbGUpKQogICAgICAgIHJhd19pbnB1dCgnXG4lcyBbICVzZW50ZXIgJXNdICclKFAsSyxQKSkKICAgICAgICBtZW51KCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBleGl0KCdcbiAlc1shXSBnYWdhbCBkdW1wIGlkJyUoUCkpCiMgRFVNUCBGT0xMT1dFUlMKZGVmIGZvbGxvd2Vycyhyb216LGhlYWRlcnM9aGVhZGVyKToKICAgIHRyeToKICAgICAgICBvcy5ta2RpcignZHVtcCcpCiAgICBleGNlcHQ6cGFzcwogICAgdHJ5OgogICAgCXByaW50ICgiXG4lcyBbJXMhJXNdIEtldGlrICclc21lJXMnIGppa2EgaW5naW4gZHVtcCBmb2xsb3dlcnMgc2VuZGlyaSAiJShQLE0sUCxILFApKQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnIFsqXSBUYXJnZXQgaWQgOiAlcyclKEspKQogICAgICAgIGJhdGFzID0gcmF3X2lucHV0KCcgJXNbKl0gTWF4aW1hbCBpZCA6ICVzJyUoUCxLKSkKICAgICAgICBnYXMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2FjY2Vzc190b2tlbj0lcyclKGlkdCxyb216KSkKICAgICAgICBubSA9IGpzb24ubG9hZHMoZ2FzLnRleHQpCiAgICAgICAgZmlsZSA9ICgnZHVtcC8nK25tWydmaXJzdF9uYW1lJ10rJy5qc29uJykucmVwbGFjZSgnICcsICdfJykKICAgICAgICBiZmYgPSBvcGVuKGZpbGUsICd3JykKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcy9zdWJzY3JpYmVycz9saW1pdD0lcyZhY2Nlc3NfdG9rZW49JXMnJShpZHQsYmF0YXMscm9teikpCiAgICAgICAgeiA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIGZvciBhIGluIHpbJ2RhdGEnXToKICAgICAgICAgICAgaWQuYXBwZW5kKGFbJ2lkJ10gKyAnPD0+JyArIGFbJ25hbWUnXSkKICAgICAgICAgICAgYmZmLndyaXRlKGFbJ2lkJ10gKyAnPD0+JyArIGFbJ25hbWUnXSArICdcbicpCiAgICAgICAgICAgIHByaW50ICdcciVzIFsqXSBtZW5ndW1wdWxrYW4gaWQgOiVzICVzICcgJSAoUCxILHN0cihsZW4oaWQpKSksCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKTtqZWRhKDAuMDA1MCkKICAgICAgICBiZmYuY2xvc2UoKQogICAgICAgIHByaW50ICgnXG5cbiAlc1slc+KImiVzXSBTdWNjZXMgZHVtcCBpZCBkYXJpICVzJXMnJShQLEgsUCxILG5tWyduYW1lJ10pKQogICAgICAgIHByaW50ICgnICVzWyVz4oiaJXNdIEZpbGUgZHVtcCB0ZXJzaW1wYW4gOiVzICVzICclKFAsSCxQLEgsZmlsZSkpCiAgICAgICAgcmF3X2lucHV0KCdcbiVzIFsgJXNlbnRlciAlc10gJyUoUCxLLFApKQogICAgICAgIG1lbnUoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGV4aXQoJ1xuICVzWyFdIGdhZ2FsIGR1bXAgaWQnJShQKSkKIyBEVU1QIFBPU1RJTkdBTiAKZGVmIHBvc3Rpbmdhbihyb216LGhlYWRlcnM9aGVhZGVyKToKICAgIHRyeToKICAgICAgICBvcy5ta2RpcignZHVtcCcpCiAgICBleGNlcHQ6cGFzcwogICAgdHJ5OgogICAgCXByaW50ICgiXG4lcyBbJXMhJXNdIFBlcmx1IGRpIGluZ2F0IHBvc3RpbmdhbiB3YWppYiBwdWJsaWsgIiUoUCxNLFApKQogICAgICAgIGlkdCA9IHJhd19pbnB1dCgnIFsqXSBJZCBwb3N0ICAgOiAlcyclKEspKQogICAgICAgIHNpbXBhbiA9IHJhd19pbnB1dCgnICVzWz9dIE5hbWEgZmlsZSA6ICVzJyUoUCxLKSkKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcy9saWtlcz9saW1pdD05OTk5OTkmYWNjZXNzX3Rva2VuPSVzJyUoaWR0LHJvbXopKQogICAgICAgIGlkID0gW10KICAgICAgICB6ID0ganNvbi5sb2FkcyhyLnRleHQpCiAgICAgICAgZmlsZSA9ICgnZHVtcC8nICsgc2ltcGFuICsgJy5qc29uJykucmVwbGFjZSgnICcsICdfJykKICAgICAgICBiZmYgPSBvcGVuKGZpbGUsICd3JykKICAgICAgICBmb3IgYSBpbiB6WydkYXRhJ106CiAgICAgICAgICAgIGlkLmFwcGVuZChhWydpZCddICsgJzw9PicgKyBhWyduYW1lJ10pCiAgICAgICAgICAgIGJmZi53cml0ZShhWydpZCddICsgJzw9PicgKyBhWyduYW1lJ10gKyAnXG4nKQogICAgICAgICAgICBwcmludCAnXHIlcyBbKl0gbWVuZ3VtcHVsa2FuIGlkIDolcyAlcyAnICUgKFAsSCxzdHIobGVuKGlkKSkpLAogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCk7amVkYSgwLjAwNTApCiAgICAgICAgYmZmLmNsb3NlKCkKICAgICAgICBwcmludCAoJ1xuXG4gJXNbJXPiiJolc10gU3VjY2VzIGR1bXAgaWQgcG9zdGluZ2FuICclKFAsSCxQKSkKICAgICAgICBwcmludCAoJyVzIFslc+KImiVzXSBGaWxlIGR1bXAgdGVyc2ltcGFuIDolcyAlcyAnJShQLEgsUCxILGZpbGUpKQogICAgICAgIHJhd19pbnB1dCgnXG4lcyBbICVzZW50ZXIgJXNdICclKFAsSyxQKSkKICAgICAgICBtZW51KCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBleGl0KCdcbiAlc1shXSBnYWdhbCBkdW1wIGlkJyUoUCkpCiMgU1RBUlQgQ1JBQ0sKY2xhc3MgbmdlbnRvZDoKCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5pZCA9IFtdCiAgICBkZWYgcm9taXkoc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLmFwayA9IHJhd19pbnB1dCgnXG4gJXNbP10gZmlsZSBkdW1wIDolcyAnJShQLEspKQogICAgICAgICAgICBzZWxmLmlkID0gb3BlbihzZWxmLmFwaykucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgICAgICBwcmludCAnJXMgWyVzKiVzXSBqdW1sYWggaWQgOiAlcyVzJyAlKFAsSyxQLEgsbGVuKHNlbGYuaWQpKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcHJpbnQgJ1xuJXMgWyFdIEZpbGUgZHVtcCB0aWRhayBhZGEsIGR1bXAgaWQgZHVsdSBrZW50b2QnJShNKQogICAgICAgICAgICByYXdfaW5wdXQoJ1xuJXMgWyAlc2VudGVyICVzXSAnJShQLEssUCkpO21lbnUoKQogICAgICAgIHVuaWtlcnMgPSByYXdfaW5wdXQoJyVzIFs/XSBpbmdpbiBndW5ha2FuIHBhc3N3b3JkIG1hbnVhbD8gW3kvdF0gOiVzICclKFAsSykpCiAgICAgICAgaWYgdW5pa2VycyBpbiAoJ1knLCAneScpOgogICAgICAgICAgICBwcmludCAnXG4gJXNbJXMhJXNdIGN0aCA6ICVzc2F5YW5nLGFuamluZyVzIGd1bmFrYW4gLCAoa29tYSkgdW50dWsgcGVtaXNhaCAnJShQLE0sUCxILFApCiAgICAgICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgICAgICBwd3ggPSByYXdfaW5wdXQoJyAlc1s/XSBzZXQgcGFzc3dvcmQgOiVzICclKFAsSykpCiAgICAgICAgICAgICAgICBpZiBwd3ggPT0gJyc6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuICVzWyFdIGphbmdhbiBrb3NvbmcgJyUoTSkKICAgICAgICAgICAgICAgIGVsaWYgbGVuKHB3eCk8PTU6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuICVzWyFdIHBhc3N3b3JkIG1pbmltYWwgNiBrYXJha3RlciclKE0pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIGRlZiB6b25hKHphZmlfPU5vbmUpOiAKICAgICAgICAgICAgICAgICAgICAgICAgaW5kID0gcmF3X2lucHV0KCdcbiAlc1s/XSBtZXRob2RlIDogJXMnJShQLEspKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBpbmQgPT0gJyc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiJXMgWyFdIElzaSB5YW5nIGJlbmFyIGtlbnRvZCAiJShNKSk7c2VsZi56b25hKCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBpbmQgaW4gKCcxJywgJzAxJyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG4gJXNbJXMqJXNdIGFrdW4gJXNPSyVzIHRlcnNpbXBhbiBkaSA+JXMgaGFzaWwvT0stJXMtJXMtJXMudHh0JyUoUCxLLFAsSCxQLEgsaGEsIG9wLCB0YSk7amVkYSgwLjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnJXMgWyVzKiVzXSBha3VuICVzQ1AgJXN0ZXJzaW1wYW4gZGkgPiAlc2hhc2lsL0NQLSVzLSVzLSVzLnR4dCclKFAsSyxQLEssUCxLLGhhLCBvcCwgdGEpO2plZGEoMC4yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyVzIFslcyElc10gc2V0aWFwIGNyYWNrIDFrIElELCBndW5ha2FuIG1vZGUgcGVzYXdhdCAyIGRldGlrXG4nJShQLE0sUCk7amVkYSgwLjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0zMCkgYXMgbG9nOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBha3VuIGluIHNlbGYuaWQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZG8gPSBha3VuLnNwbGl0KCc8PT4nKVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnN1Ym1pdChzZWxmLmJfYXBpLCBpbmRvLCB6YWZpXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OiBwYXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcy5yZW1vdmUoc2VsZi5hcGspO2V4aXQoKQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGluZCBpbiAoJzInLCAnMDInKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcbiVzIFslcyolc10gYWt1biAlc09LJXMgdGVyc2ltcGFuIGRpID4lcyBoYXNpbC9PSy0lcy0lcy0lcy50eHQnJShQLEssUCxILFAsSCxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICclcyBbJXMqJXNdIGFrdW4gJXNDUCAlc3RlcnNpbXBhbiBkaSA+ICVzaGFzaWwvQ1AtJXMtJXMtJXMudHh0JyUoUCxLLFAsSyxQLEssaGEsIG9wLCB0YSk7amVkYSgwLjIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnJXMgWyVzISVzXSBzZXRpYXAgY3JhY2sgMWsgSUQsIGd1bmFrYW4gbW9kZSBwZXNhd2F0IDIgZGV0aWtcbiclKFAsTSxQKTtqZWRhKDAuMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBsb2c6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGFrdW4gaW4gc2VsZi5pZDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kbyA9IGFrdW4uc3BsaXQoJzw9PicpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cuc3VibWl0KHNlbGYuYmFzaWMsIGluZG8sIHphZmlfKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnJlbW92ZShzZWxmLmFwayk7ZXhpdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgaW5kIGluICgnMycsICcwMycpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuICVzWyVzKiVzXSBha3VuICVzT0slcyB0ZXJzaW1wYW4gZGkgPiVzIGhhc2lsL09LLSVzLSVzLSVzLnR4dCclKFAsSyxQLEgsUCxILGhhLCBvcCwgdGEpO2plZGEoMC4yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyVzIFslcyolc10gYWt1biAlc0NQICVzdGVyc2ltcGFuIGRpID4gJXNoYXNpbC9DUC0lcy0lcy0lcy50eHQnJShQLEssUCxLLFAsSyxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICclcyBbJXMhJXNdIHNldGlhcCBjcmFjayAxayBJRCwgZ3VuYWthbiBtb2RlIHBlc2F3YXQgMiBkZXRpa1xuJyUoUCxNLFApO2plZGEoMC4yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzApIGFzIGxvZzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgYWt1biBpbiBzZWxmLmlkOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRvID0gYWt1bi5zcGxpdCgnPD0+JylbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5zdWJtaXQoc2VsZi5tb2JpbCwgaW5kbywgemFmaV8pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDogcGFzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3MucmVtb3ZlKHNlbGYuYXBrKTtleGl0KCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICgnXG4gJXNbIV0gaXNpIHlhbmcgYmVuYXIga2VudG9kJyUoTSkpO3pvbmEoKQogICAgICAgICAgICAgICAgICAgIHByaW50ICdcbiVzIFsgcGlsaWggbWV0aG9kZSBjcmFjayAtIHNpbGFoa2FuIGNvYmEgc2F0dcKyIF1cbiclKFApCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBbJXMwMSVzXSBtZXRob2RlIGItYXBpIChjcmFjayBjZXBhdCknJShLLFApCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJyBbJXMwMiVzXSBtZXRob2RlIG1iYXNpYyAoY3JhY2sgbGFtYmF0KSclKEssUCkKICAgICAgICAgICAgICAgICAgICBwcmludCAnIFslczAzJXNdIG1ldGhvZGUgbW9iaWxlIChjcmFjayBzYW5nYXQgbGFtYmF0KSAnJShLLFApCiAgICAgICAgICAgICAgICAgICAgem9uYShwd3guc3BsaXQoJywnKSkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgIGVsaWYgdW5pa2VycyBpbiAoJ1QnLCAndCcpOgogICAgICAgICAgICBwcmludCAnXG4lcyBbIHBpbGloIG1ldGhvZGUgY3JhY2sgLSBzaWxhaGthbiBjb2JhIHNhdHXCsiBdXG4nJShQKQogICAgICAgICAgICBwcmludCAnIFslczAxJXNdIG1ldGhvZGUgYi1hcGkgKGNyYWNrIGNlcGF0KSclKEssUCkKICAgICAgICAgICAgcHJpbnQgJyBbJXMwMiVzXSBtZXRob2RlIG1iYXNpYyAoY3JhY2sgbGFtYmF0KSclKEssUCkKICAgICAgICAgICAgcHJpbnQgJyBbJXMwMyVzXSBtZXRob2RlIG1vYmlsZSAoY3JhY2sgc2FuZ2F0IGxhbWJhdCkgJyUoSyxQKQogICAgICAgICAgICBzZWxmLmxhbmdzdW5nKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgiJXMgWyFdIElzaSB5YW5nIGJlbmFyIGtlbnRvZCAiJShNKSk7amVkYSgyKTttZW51KCkKICAgIGRlZiBsYW5nc3VuZyhzZWxmKToKICAgICAgICBzdXV1ID0gcmF3X2lucHV0KCdcbiAlc1s/XSBtZXRob2RlIDolcyAnJShQLEspKQogICAgICAgIGlmIHN1dXUgPT0gJyc6CiAgICAgICAgICAgIHByaW50KCIlcyBbIV0gSXNpIHlhbmcgYmVuYXIga2VudG9kICIlKE0pKTtzZWxmLmxhbmdzdW5nKCkKICAgICAgICBlbGlmIHN1dXUgaW4gKCcxJywgJzAxJyk6CiAgICAgICAgICAgIHByaW50ICdcbiAlc1slcyolc10gYWt1biAlc09LJXMgdGVyc2ltcGFuIGRpID4lcyBoYXNpbC9PSy0lcy0lcy0lcy50eHQnJShQLEssUCxILFAsSCxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgcHJpbnQgJyVzIFslcyolc10gYWt1biAlc0NQICVzdGVyc2ltcGFuIGRpID4gJXNoYXNpbC9DUC0lcy0lcy0lcy50eHQnJShQLEssUCxLLFAsSyxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgcHJpbnQgJyVzIFslcyElc10gc2V0aWFwIGNyYWNrIDFrIElELCBndW5ha2FuIG1vZGUgcGVzYXdhdCAyIGRldGlrXG4nJShQLE0sUCk7amVkYSgwLjIpCiAgICAgICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBsb2c6CiAgICAgICAgICAgIAlmb3IgYWt1biBpbiBzZWxmLmlkOiAKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IGFrdW4uc3BsaXQoJzw9PicpCiAgICAgICAgICAgICAgICAgICAgICAgIF9pXyA9IG5hbWUuc3BsaXQoJyAnKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oX2lfKSA9PSAzIG9yIGxlbihfaV8pID09IDQgb3IgbGVuKF9pXykgPT0gNSBvciBsZW4oX2lfKSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIF9pX1swXSsiMTIzIiwgX2lfWzBdKyIxMjM0NSJdCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgX2lfWzBdKyIxMjMiLCBfaV9bMF0rIjEyMzQ1Il0KICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnN1Ym1pdChzZWxmLmJfYXBpLCB1aWQsIHB3eCkKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MKICAgICAgICAgICAgb3MucmVtb3ZlKHNlbGYuYXBrKTtleGl0KCkKICAgICAgICBlbGlmIHN1dXUgaW4gKCcyJywgJzAyJyk6CiAgICAgICAgICAgIHByaW50ICdcbiVzIFslcyolc10gYWt1biAlc09LJXMgdGVyc2ltcGFuIGRpID4lcyBoYXNpbC9PSy0lcy0lcy0lcy50eHQnJShQLEssUCxILFAsSCxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgcHJpbnQgJyVzIFslcyolc10gYWt1biAlc0NQICVzdGVyc2ltcGFuIGRpID4gJXNoYXNpbC9DUC0lcy0lcy0lcy50eHQnJShQLEssUCxLLFAsSyxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgcHJpbnQgJyVzIFslcyElc10gc2V0aWFwIGNyYWNrIDFrIElELCBndW5ha2FuIG1vZGUgcGVzYXdhdCAyIGRldGlrXG4nJShQLE0sUCk7amVkYSgwLjIpCiAgICAgICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBsb2c6CiAgICAgICAgICAgIAlmb3IgYWt1biBpbiBzZWxmLmlkOiAKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IGFrdW4uc3BsaXQoJzw9PicpCiAgICAgICAgICAgICAgICAgICAgICAgIF9pXyA9IG5hbWUuc3BsaXQoJyAnKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oX2lfKSA9PSAzIG9yIGxlbihfaV8pID09IDQgb3IgbGVuKF9pXykgPT0gNSBvciBsZW4oX2lfKSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIF9pX1swXSsiMTIzIiwgX2lfWzBdKyIxMjM0NSJdCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgX2lfWzBdKyIxMjMiLCBfaV9bMF0rIjEyMzQ1Il0KICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnN1Ym1pdChzZWxmLmJhc2ljLCB1aWQsIHB3eCkKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MKICAgICAgICAgICAgb3MucmVtb3ZlKHNlbGYuYXBrKTtleGl0KCkKICAgICAgICBlbGlmIHN1dXUgaW4gKCczJywgJzAzJyk6CiAgICAgICAgICAgIHByaW50ICdcbiAlc1slcyolc10gYWt1biAlc09LJXMgdGVyc2ltcGFuIGRpID4lcyBoYXNpbC9PSy0lcy0lcy0lcy50eHQnJShQLEssUCxILFAsSCxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgcHJpbnQgJyVzIFslcyolc10gYWt1biAlc0NQICVzdGVyc2ltcGFuIGRpID4gJXNoYXNpbC9DUC0lcy0lcy0lcy50eHQnJShQLEssUCxLLFAsSyxoYSwgb3AsIHRhKTtqZWRhKDAuMikKICAgICAgICAgICAgcHJpbnQgJyVzIFslcyElc10gc2V0aWFwIGNyYWNrIDFrIElELCBndW5ha2FuIG1vZGUgcGVzYXdhdCAyIGRldGlrXG4nJShQLE0sUCk7amVkYSgwLjIpCiAgICAgICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBsb2c6CiAgICAgICAgICAgIAlmb3IgYWt1biBpbiBzZWxmLmlkOiAKICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IGFrdW4uc3BsaXQoJzw9PicpCiAgICAgICAgICAgICAgICAgICAgICAgIF9pXyA9IG5hbWUuc3BsaXQoJyAnKQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oX2lfKSA9PSAzIG9yIGxlbihfaV8pID09IDQgb3IgbGVuKF9pXykgPT0gNSBvciBsZW4oX2lfKSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIF9pX1swXSsiMTIzIiwgX2lfWzBdKyIxMjM0NSJdCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgX2lfWzBdKyIxMjMiLCBfaV9bMF0rIjEyMzQ1Il0KICAgICAgICAgICAgICAgICAgICAgICAgbG9nLnN1Ym1pdChzZWxmLm1vYmlsLCB1aWQsIHB3eCkKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MKICAgICAgICAgICAgb3MucmVtb3ZlKHNlbGYuYXBrKTtleGl0KCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCgiXG4lcyBbIV0gSXNpIHlhbmcgYmVuYXIga2VudG9kICIlKE0pKTtzZWxmLmxhbmdzdW5nKCkKICAgIGRlZiBiX2FwaShzZWxmLCB1c2VyLCB6b25hKToKICAgIAl0cnk6CiAgICAJICAgIHVhID0gb3BlbignZGF0YS91YS50eHQnLCAncicpLnJlYWQoKQogICAgICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIAl1YSA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScKICAgICAgICBnbG9iYWwgb2ssY3AsbG9vcAogICAgICAgIGZvciBwdyBpbiB6b25hOgogICAgICAgICAgICBwdyA9IHB3Lmxvd2VyKCkKICAgICAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgIGhlYWRlciA9IHsidXNlci1hZ2VudCI6IHVhLAogICAgICAgICAgICAieC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCw0MDAwMCkpLAogICAgICAgICAgICAieC1mYi1zaW0taG5pIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLDQwMDAwKSksCiAgICAgICAgICAgICJ4LWZiLW5ldC1obmkiOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsNDAwMDApKSwKICAgICAgICAgICAgIngtZmItY29ubmVjdGlvbi1xdWFsaXR5IjogIkVYQ0VMTEVOVCIsCiAgICAgICAgICAgICJ4LWZiLWNvbm5lY3Rpb24tdHlwZSI6ICJjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEiLAogICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsCiAgICAgICAgICAgICJ4LWZiLWh0dHAtZW5naW5lIjogIkxpZ2VyIn0KICAgICAgICAgICAgYmFwaSA9ICJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbiIKICAgICAgICAgICAgcmVzcG9uc2UgPSBzZXMuZ2V0KGJhcGkrJz9mb3JtYXQ9anNvbiZlbWFpbD0nK3VzZXIrJyZwYXNzd29yZD0nK3B3KycmY3JlZGVudGlhbHNfdHlwZT1kZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmZXJyb3JfZGV0YWlsX3R5cGU9YnV0dG9uX3dpdGhfZGlzYWJsZWQmc291cmNlPWRldmljZV9iYXNlZF9sb2dpbiZtZXRhX2luZl9mYm1ldGE9JTIwJmN1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkPTAmbWV0aG9kPUdFVCZsb2NhbGU9ZW5fVVMmY2xpZW50X2NvdW50cnlfY29kZT1VUyZmYl9hcGlfY2FsbGVyX2NsYXNzPWNvbS5mYWNlYm9vay5mb3MuaGVhZGVyc3YyLmZiNGFvcmNhLkhlYWRlcnNWMkNvbmZpZ0ZldGNoUmVxdWVzdEhhbmRsZXImYWNjZXNzX3Rva2VuPTM1MDY4NTUzMTcyOHw2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiZmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWU9YXV0aGVudGljYXRlJmNwbD10cnVlJywgaGVhZGVycz1oZWFkZXIpCiAgICAgICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlICE9IDIwMDoKICAgICAgICAgICAgCWxvb3AgKz0xCiAgICAgICAgICAgIAlwcmludCAoIlxyXDAzM1swOzkxbSBbIV0gSVAgdGVyYmxva2lyLiBoaWR1cGthbiBtb2RlIHBlc2F3YXQgMiBkZXRpayIpLAogICAgICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgICAgICBiX2FwaShzZWxmLCB1c2VyLCB6b25hKQogICAgICAgICAgICBpZiAnc2Vzc2lvbl9rZXknIGluIHJlc3BvbnNlLnRleHQgYW5kICdFQUFBJyBpbiByZXNwb25zZS50ZXh0OgogICAgICAgICAgICAgICAgcHJpbnQgJ1xyICVzKi0tPiAlcyDil4ogJXMg4peKICVzICcgJSAoSCx1c2VyLHB3LHJlc3BvbnNlLmpzb24oKVsnYWNjZXNzX3Rva2VuJ10pCiAgICAgICAgICAgICAgICBvay5hcHBlbmQoJyVzIOKXiiAlcyDil4ogJXMnICUgKHVzZXIscHcscmVzcG9uc2UuanNvbigpWydhY2Nlc3NfdG9rZW4nXSkpCiAgICAgICAgICAgICAgICBvcGVuKCdoYXNpbC9DUC0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCAnYScpLndyaXRlKCcgKi0tPiAlcyDil4ogJXMg4peKICVzXG4nJSh1c2VyLHB3LHJlc3BvbnNlLmpzb24oKVsnYWNjZXNzX3Rva2VuJ10pKQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHJlc3BvbnNlLmpzb24oKVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgcm9teiA9IG9wZW4oJ3Rva2VuLnR4dCcpLnJlYWQoKQogICAgICAgICAgICAgICAgICAgIGxhaGlyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcz9hY2Nlc3NfdG9rZW49JXMnJSh1c2VyLHJvbXopKS5qc29uKClbJ2JpcnRoZGF5J10KICAgICAgICAgICAgICAgICAgICBtb250aCwgZGF5LCB5ZWFyID0gbGFoaXIuc3BsaXQoJy8nKQogICAgICAgICAgICAgICAgICAgIG1vbnRoID0gYnVsYW4xW21vbnRoXQogICAgICAgICAgICAgICAgICAgIHByaW50ICdcciAlcyotLT4gJXMg4peKICVzIOKXiiAlcyAlcyAlcyAgJyAlIChLLHVzZXIscHcsZGF5LG1vbnRoLHllYXIpCiAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKCIlcyDil4ogJXMg4peKICVzICVzICVzIiUgKHVzZXIscHcsZGF5LG1vbnRoLHllYXIpKQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ2hhc2lsL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksICdhJykud3JpdGUoIiAqLS0+ICVzIOKXiiAlcyDil4ogJXMgJXMgJXNcbiIlKHVzZXIscHcsZGF5LG1vbnRoLHllYXIpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgZGF5ID0gJycKICAgICAgICAgICAgICAgICAgICBtb250aCAgID0gJycKICAgICAgICAgICAgICAgICAgICB5ZWFyICA9ICcnCiAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MKICAgICAgICAgICAgICAgIHByaW50ICdcciAlcyotLT4gJXMg4peKICVzICAgICAgICAgICAnICUgKEssdXNlcixwdykKICAgICAgICAgICAgICAgIGNwLmFwcGVuZCgnJXMg4peKICVzJyAlICh1c2VyLHB3KSkKICAgICAgICAgICAgICAgIG9wZW4oJ2hhc2lsL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksICdhJykud3JpdGUoIiAqLS0+ICVzIOKXiiAlc1xuIiUodXNlcixwdykpCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICBsb29wICs9IDEKICAgICAgICBybSA9IHJhbmRvbS5jaG9pY2UoWydceDFiWzE7OTFtJywgJ1x4MWJbMTs5Mm0nLCAnXHgxYlsxOzkzbScsICdceDFiWzE7OTRtJywgJ1x4MWJbMTs5NW0nLCAnXHgxYlsxOzk2bScsICdceDFiWzE7OTdtJ10pCiAgICAgICAgcHJpbnQoJ1xyICVzKi0tPiAlcy8lcyBbT0stOiVzXS1bQ1AtOiVzXSclKHJtLGxvb3AsbGVuKHNlbGYuaWQpLGxlbihvayksbGVuKGNwKSkpLAogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgZGVmIGJhc2ljKHNlbGYsIHVzZXIsIHpvbmEpOgogICAgICAgIHRyeToKICAgIAkgICAgdWEgPSBvcGVuKCdkYXRhL3VhLnR4dCcsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgCXVhID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJwogICAgICAgIGdsb2JhbCBvayxjcCxsb29wCiAgICAgICAgZm9yIHB3IGluIHpvbmE6CiAgICAgICAgICAgIHB3ID0gcHcubG93ZXIoKQogICAgICAgICAgICBzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKICAgICAgICAgICAgc2VzLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6Im1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YSwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyJ9KQogICAgICAgICAgICBwID0gc2VzLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tIikKICAgICAgICAgICAgYiA9IGJzNC5CZWF1dGlmdWxTb3VwKHAudGV4dCwgJ2h0bWwucGFyc2VyJykKICAgICAgICAgICAgZHRnID0gKCcnKS5qb2luKGJzNC5yZS5maW5kYWxsKCdkdHNnIjpcXHsidG9rZW4iOiIoLio/KSInLCBwLnRleHQpKQogICAgICAgICAgICBkYXRhID0ge30KICAgICAgICAgICAgZm9yIHJvbSBpbiBiKCdpbnB1dCcpOgogICAgICAgICAgICAJaWYgcm9tLmdldCgndmFsdWUnKSBpcyBOb25lOgogICAgICAgICAgICAJICAgIGlmIHJvbS5nZXQoJ25hbWUnKSA9PSAnZW1haWwnOgogICAgICAgICAgICAJICAgICAgICBkYXRhLnVwZGF0ZSh7ImVtYWlsIjp1c2VyfSkKICAgICAgICAgICAgICAgICAgICBlbGlmIHJvbS5nZXQoIm5hbWUiKT09InBhc3MiOgogICAgICAgICAgICAgICAgICAgIAlkYXRhLnVwZGF0ZSh7InBhc3MiOnB3fSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIAlkYXRhLnVwZGF0ZSh7cm9tLmdldCgnbmFtZScpOiAnJ30pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgCWRhdGEudXBkYXRlKHtyb20uZ2V0KCduYW1lJyk6IHJvbS5nZXQoJ3ZhbHVlJyl9KQogICAgICAgICAgICBkYXRhLnVwZGF0ZSh7J2ZiX2R0c2cnOiBkdGcsICdtX3Nlc3MnOiAnJywgJ19fdXNlcic6ICcwJywgJ19fcmVxJzogJ2QnLAogICAgICAgICAgICAnX19jc3InOiAnJywgJ19fYSc6ICcnLCAnX19keW4nOiAnJywgJ2VuY3Bhc3MnOiAnJ30pCiAgICAgICAgICAgIHNlcy5oZWFkZXJzLnVwZGF0ZSh7J3JlZmVyZXInOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCd9KQogICAgICAgICAgICBwbyA9IHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL2xvZ2luL2FzeW5jLz9yZWZzcmM9aHR0cHMlM0ElMkYlMkZtYmFzaWMuZmFjZWJvb2suY29tJTJGbG9naW4lMkYlM0ZyZWYlM0RkYmwmbHd2PTEwMCcsIGRhdGE9ZGF0YSkudGV4dAogICAgICAgICAgICBpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKICAgICAgICAgICAgCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKICAgICAgICAgICAgICAgIHByaW50ICdcciAlcyotLT4gJXMg4peKICVzIOKXiiAlcyAgJyAlIChILHVzZXIscHcsa3VraSkKICAgICAgICAgICAgICAgIG9rLmFwcGVuZCgiJXMg4peKICVzIOKXiiAlcyIlICh1c2VyLHB3LGt1a2kpKQogICAgICAgICAgICAgICAgb3BlbignaGFzaWwvQ1AtJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwgJ2EnKS53cml0ZSgiICotLT4gJXMg4peKICVzIOKXiiAlc1xuIiUodXNlcixwdyxrdWtpKSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBlbGlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICByb216ID0gb3BlbigndG9rZW4udHh0JykucmVhZCgpCiAgICAgICAgICAgICAgICAgICAgbGFoaXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2FjY2Vzc190b2tlbj0lcyclKHVzZXIscm9teikpLmpzb24oKVsnYmlydGhkYXknXQogICAgICAgICAgICAgICAgICAgIG1vbnRoLCBkYXksIHllYXIgPSBsYWhpci5zcGxpdCgnLycpCiAgICAgICAgICAgICAgICAgICAgbW9udGggPSBidWxhbjFbbW9udGhdCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xyICVzKi0tPiAlcyDil4ogJXMg4peKICVzICVzICVzICcgJSAoSyx1c2VyLHB3LGRheSxtb250aCx5ZWFyKQogICAgICAgICAgICAgICAgICAgIGNwLmFwcGVuZCgiJXMg4peKICVzIOKXiiAlcyAlcyAlcyIlICh1c2VyLHB3LGRheSxtb250aCx5ZWFyKSkKICAgICAgICAgICAgICAgICAgICBvcGVuKCdoYXNpbC9DUC0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCAnYScpLndyaXRlKCIgKi0tPiAlcyDil4ogJXMg4peKICVzICVzICVzXG4iJSh1c2VyLHB3LGRheSxtb250aCx5ZWFyKSkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICAgICAgICAgIGRheSA9ICcnCiAgICAgICAgICAgICAgICAgICAgbW9udGggICA9ICcnCiAgICAgICAgICAgICAgICAgICAgeWVhciAgPSAnJwogICAgICAgICAgICAgICAgZXhjZXB0OiBwYXNzCiAgICAgICAgICAgICAgICBwcmludCAnXHIgJXMqLS0+ICVzIOKXiiAlcyAgICAgICAgICAgICcgJSAoSyx1c2VyLHB3KQogICAgICAgICAgICAgICAgY3AuYXBwZW5kKCIlcyDil4ogJXMiJSAodXNlcixwdykpCiAgICAgICAgICAgICAgICBvcGVuKCdoYXNpbC9DUC0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCAnYScpLndyaXRlKCIgKi0tPiAlcyDil4ogJXNcbiIlKHVzZXIscHcpKQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgbG9vcCArPSAxCiAgICAgICAgcm0gPSByYW5kb20uY2hvaWNlKFsnXHgxYlsxOzkxbScsICdceDFiWzE7OTJtJywgJ1x4MWJbMTs5M20nLCAnXHgxYlsxOzk0bScsICdceDFiWzE7OTVtJywgJ1x4MWJbMTs5Nm0nLCAnXHgxYlsxOzk3bSddKQogICAgICAgIHByaW50KCdcciAlcyotLT4gJXMvJXMgW09LLTolc10tW0NQLTolc10nJShybSxsb29wLGxlbihzZWxmLmlkKSxsZW4ob2spLGxlbihjcCkpKSwKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGRlZiBtb2JpbChzZWxmLCB1c2VyLCB6b25hKToKICAgICAgICB0cnk6CiAgICAJICAgIHVhID0gb3BlbignZGF0YS91YS50eHQnLCAncicpLnJlYWQoKQogICAgICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIAl1YSA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScKICAgICAgICBnbG9iYWwgb2ssY3AsbG9vcAogICAgICAgIGZvciBwdyBpbiB6b25hOgogICAgICAgICAgICBwdyA9IHB3Lmxvd2VyKCkKICAgICAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgIHNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOiJtLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44IiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSIsImFjY2VwdC1sYW5ndWFnZSI6ImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0pCiAgICAgICAgICAgIHAgPSBzZXMuZ2V0KCJodHRwczovL20uZmFjZWJvb2suY29tIikKICAgICAgICAgICAgYiA9IGJzNC5CZWF1dGlmdWxTb3VwKHAudGV4dCwgJ2h0bWwucGFyc2VyJykKICAgICAgICAgICAgZHRnID0gKCcnKS5qb2luKGJzNC5yZS5maW5kYWxsKCdkdHNnIjpcXHsidG9rZW4iOiIoLio/KSInLCBwLnRleHQpKQogICAgICAgICAgICBkYXRhID0ge30KICAgICAgICAgICAgZm9yIHJvbSBpbiBiKCdpbnB1dCcpOgogICAgICAgICAgICAJaWYgcm9tLmdldCgndmFsdWUnKSBpcyBOb25lOgogICAgICAgICAgICAJICAgIGlmIHJvbS5nZXQoJ25hbWUnKSA9PSAnZW1haWwnOgogICAgICAgICAgICAJICAgICAgICBkYXRhLnVwZGF0ZSh7ImVtYWlsIjp1c2VyfSkKICAgICAgICAgICAgICAgICAgICBlbGlmIHJvbS5nZXQoIm5hbWUiKT09InBhc3MiOgogICAgICAgICAgICAgICAgICAgIAlkYXRhLnVwZGF0ZSh7InBhc3MiOnB3fSkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIAlkYXRhLnVwZGF0ZSh7cm9tLmdldCgnbmFtZScpOiAnJ30pCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgCWRhdGEudXBkYXRlKHtyb20uZ2V0KCduYW1lJyk6IHJvbS5nZXQoJ3ZhbHVlJyl9KQogICAgICAgICAgICBkYXRhLnVwZGF0ZSh7J2ZiX2R0c2cnOiBkdGcsICdtX3Nlc3MnOiAnJywgJ19fdXNlcic6ICcwJywgJ19fcmVxJzogJ2QnLAogICAgICAgICAgICAnX19jc3InOiAnJywgJ19fYSc6ICcnLCAnX19keW4nOiAnJywgJ2VuY3Bhc3MnOiAnJ30pCiAgICAgICAgICAgIHNlcy5oZWFkZXJzLnVwZGF0ZSh7J3JlZmVyZXInOiAnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgnfSkKICAgICAgICAgICAgcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvbG9naW4vYXN5bmMvP3JlZnNyYz1odHRwcyUzQSUyRiUyRm0uZmFjZWJvb2suY29tJTJGbG9naW4lMkYlM0ZyZWYlM0RkYmwmbHd2PTEwMCcsIGRhdGE9ZGF0YSkudGV4dAogICAgICAgICAgICBpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKICAgICAgICAgICAgCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKICAgICAgICAgICAgICAgIHByaW50ICdcciAlcyotLT4gJXMg4peKICVzIOKXiiAlcyAnICUgKEgsdXNlcixwdyxrdWtpKQogICAgICAgICAgICAgICAgb2suYXBwZW5kKCIlcyDil4ogJXMg4peKICVzIiUgKHVzZXIscHcsa3VraSkpCiAgICAgICAgICAgICAgICBvcGVuKCdoYXNpbC9DUC0lcy0lcy0lcy50eHQnICUgKGhhLCBvcCwgdGEpLCAnYScpLndyaXRlKCIgKi0tPiAlcyDil4ogJXMg4peKICVzXG4iJSh1c2VyLHB3LGt1a2kpKQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIGVsaWYgImNoZWNrcG9pbnQiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHJvbXogPSBvcGVuKCd0b2tlbi50eHQnKS5yZWFkKCkKICAgICAgICAgICAgICAgICAgICBsYWhpciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXM/YWNjZXNzX3Rva2VuPSVzJyUodXNlcixyb216KSkuanNvbigpWydiaXJ0aGRheSddCiAgICAgICAgICAgICAgICAgICAgbW9udGgsIGRheSwgeWVhciA9IGxhaGlyLnNwbGl0KCcvJykKICAgICAgICAgICAgICAgICAgICBtb250aCA9IGJ1bGFuMVttb250aF0KICAgICAgICAgICAgICAgICAgICBwcmludCAnXHIgJXMqLS0+ICVzIOKXiiAlcyDil4ogJXMgJXMgJXMgJyAlIChLLHVzZXIscHcsZGF5LG1vbnRoLHllYXIpCiAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKCIlcyDil4ogJXMg4peKICVzICVzICVzIiUgKHVzZXIscHcsZGF5LG1vbnRoLHllYXIpKQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ2hhc2lsL0NQLSVzLSVzLSVzLnR4dCcgJSAoaGEsIG9wLCB0YSksICdhJykud3JpdGUoIiAqLS0+ICVzIOKXiiAlcyDil4ogJXMgJXMgJXNcbiIlKHVzZXIscHcsZGF5LG1vbnRoLHllYXIpKQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgZGF5ID0gJycKICAgICAgICAgICAgICAgICAgICBtb250aCAgID0gJycKICAgICAgICAgICAgICAgICAgICB5ZWFyICA9ICcnCiAgICAgICAgICAgICAgICBleGNlcHQ6IHBhc3MKICAgICAgICAgICAgICAgIHByaW50ICdcciAlcyotLT4gJXMg4peKICVzICAgICAgICAgICAgICAnICUgKEssdXNlcixwdykKICAgICAgICAgICAgICAgIGNwLmFwcGVuZCgiJXMg4peKICVzIiUgKHVzZXIscHcpKQogICAgICAgICAgICAgICAgb3BlbignaGFzaWwvQ1AtJXMtJXMtJXMudHh0JyAlIChoYSwgb3AsIHRhKSwgJ2EnKS53cml0ZSgiICotLT4gJXMg4peKICVzXG4iJSh1c2VyLHB3KSkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGxvb3AgKz0gMQogICAgICAgIHJtID0gcmFuZG9tLmNob2ljZShbJ1x4MWJbMTs5MW0nLCAnXHgxYlsxOzkybScsICdceDFiWzE7OTNtJywgJ1x4MWJbMTs5NG0nLCAnXHgxYlsxOzk1bScsICdceDFiWzE7OTZtJywgJ1x4MWJbMTs5N20nXSkKICAgICAgICBwcmludCgnXHIgJXMqLS0+ICVzLyVzIFtPSy06JXNdLVtDUC06JXNdJyUocm0sbG9vcCxsZW4oc2VsZi5pZCksbGVuKG9rKSxsZW4oY3ApKSksCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCmRlZiBjcmFjazIodXNlciwgcHd4KToKCWdsb2JhbCBsb29waW5nLCBsb3BpbmcKCWNfYmZmXyA9IGxlbihwd3gpCglmb3IgcGFzIGluIHB3eDoKCQlpZiBsb29waW5nICE9IDE6CgkJCXBhc3MKCQllbHNlOgoJCQlpZiBsZW4oc3RhdHVzX2ZvbGwpICE9IDE6CgkJCQlybSA9IHJhbmRvbS5jaG9pY2UoWyJcMDMzWzE7OTFtIiwiXDAzM1sxOzkybSIsIlwwMzNbMTs5M20iLCJcMDMzWzE7OTRtIiwiXDAzM1sxOzk1bSIsIlwwMzNbMTs5Nm0iLCJcMDMzWzE7OTdtIl0pCgkJCQlwcmludCAiXHIgIitybSsiKi0tPiAlcy8lcyBbT0s6JXNdLVtDUDolc10gIiUoc3RyKGxvcGluZyksbGVuKG1pKSxsZW4ob2spLGxlbihjcCkpLAoJCQkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJCQljX2JmZl8gLT0gMQoJCQllbHNlOgoJCQkJcGFzcwoJCXRyeToKCQkJaWYgdXNlciBpbiBvayBvciB1c2VyIGluIGNwOgoJCQkJYnJlYWsKCQkJcHcgPSBwYXMubG93ZXIoKQoJCQl0cnk6CgkJCQloZWFkZXJ6ID0geyJVc2VyLUFnZW50IjogdXNlcl9hZ2VudHpfYXBpfQoJCQkJd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOgoJCQkJCXVybGwgPSAiaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8iCgkJCQkJZGF0YSA9IHNlcy5nZXQodXJsbCwgaGVhZGVycz1oZWFkZXJ6KS5jb250ZW50CgkJCQkJdG9rZXR0ID0gcmUuZmluZGFsbCgneyJjb25maWciOnsiY3NyZl90b2tlbiI6IiguKikiLCJ2aWV3ZXIiJywgc3RyKGRhdGEpKVswXQoJCQkJaGVhZGVyID0geyJBY2NlcHQiOiAiKi8qIiwiQWNjZXB0LUVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUsIGJyIiwiQWNjZXB0LUxhbmd1YWdlIjogImVuLVVTLGVuO3E9MC41IiwiSG9zdCI6ICJ3d3cuaW5zdGFncmFtLmNvbSIsIlgtQ1NSRlRva2VuIjogdG9rZXR0LCJYLVJlcXVlc3RlZC1XaXRoIjogIlhNTEh0dHBSZXF1ZXN0IiwiUmVmZXJlciI6ICJodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FjY291bnRzL2xvZ2luLyIsIlVzZXItQWdlbnQiOiB1c2VyX2FnZW50eiwKCQkJCQkJIH0KCQkJCXBhcmFtID0geyJ1c2VybmFtZSI6IHVzZXIsImVuY19wYXNzd29yZCI6ICIjUFdEX0lOU1RBR1JBTV9CUk9XU0VSOjA6e306e30iLmZvcm1hdChyYW5kb20ucmFuZGludCgxMDAwMDAwMDAwLCA5OTk5OTk5OTk5OSksIHB3KSwib3B0SW50b09uZVRhcCI6IEZhbHNlLCJxdWVyeVBhcmFtcyI6IHt9LCJzdG9wRGVsZXRpb25Ob25jZSI6ICIiLCJ0cnVzdGVkRGV2aWNlUmVjb3JkcyI6IHt9CgkJCQkJCX0KCQkJZXhjZXB0OgoJCQkJaGVhZGVyID0ge30KCQkJCXBhcmFtID0ge30KCQkJCXBhc3MKCQkJd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOgoJCQkJdXJsID0gImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vYWNjb3VudHMvbG9naW4vYWpheC8iCgkJCQlyZXNwb24gPSBzZXMucG9zdCh1cmwsIGRhdGE9cGFyYW0sIGhlYWRlcnM9aGVhZGVyKQoJCQkJZGF0YSA9IGpzb24ubG9hZHMocmVzcG9uLmNvbnRlbnQpO2plZGEoMDAuMSkKCQkJCSMgcHJpbnQgKCJcciIsZGF0YSkKCQkJCSMgcHJpbnQgKCJcciAqLS0+ICVzLCVzLHwsJXMsJXMgICAgICAgICAgICAiJShQLHVzZXIsSCxwdykpCgkJCQlpZiAiY2hlY2twb2ludF91cmwiIGluIHN0cihkYXRhKToKCQkJCQljZXBlaCA9ICJDaGVja3BvaW50IgoJCQkJCWluZ2ZvKHVzZXIsIHB3LCBjZXBlaCkKCQkJCQl3aXRoIG9wZW4oImNlcGVoLnR4dCIsICJhIikgYXMgc2ltcGFuOgoJCQkJCQlzaW1wYW4ud3JpdGUoIiBbQ2hlY2twb2ludF0gIit1c2VyKyIg4peKICIrcHcrIlxuIikKCQkJCQljcC5hcHBlbmQodXNlcikKCQkJCQlicmVhawoJCQkJZWxpZiAidXNlcklkIiBpbiBzdHIoZGF0YSk6CgkJCQkJb2tlaCA9ICJCZXJoYXNpbCIKCQkJCQlpZiBsZW4oc3RhdHVzX2ZvbGwpICE9IDE6CgkJCQkJCWluZ2ZvKHVzZXIsIHB3LCBva2VoKQoJCQkJCQl3aXRoIG9wZW4oIm9rZWgudHh0IiwgImEiKWFzIHNpbXBhbjoKCQkJCQkJCXNpbXBhbi53cml0ZSgiIFtCZXJoYXNpbF0gIit1c2VyKyIg4peKICIrcHcrIlxuIikKCQkJCQkJb2suYXBwZW5kKHVzZXIpCgkJCQkJCSNmb2xsb3coc2VzLHVzZXIpCgkJCQkJYnJlYWsKCQkJCWVsaWYgIlBsZWFzZSB3YWl0IiBpbiBzdHIoZGF0YSk6CgkJCQkJcHJpbnQgKCJcciVzWyFdIE1vZGUgcGVzYXdhdGthbiAyIGRldGlrICAiJShNKSksCgkJCQkJbG9vcGluZys9MQoJCQkJCXN5cy5zdGRvdXQuZmx1c2goKQoJCQkJCXB3eCA9IFtwd10KCQkJCQljcmFjazIodXNlciwgcHd4KQoJCQkJCWxvcGluZyAtPSAxCgkJCQllbHNlOgoJCQkJCWxvb3BpbmcgPSAxCgkJCQkJcGFzcwoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJcHJpbnQgKCJcciVzWyFdIFRpZGFrIGFkYSBrb25la3NpIEludGVybmV0ICIlKE0pKSwKCQkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJCWxvb3BpbmcrPTEKCQkJcHd4ID0gW3B3XQoJCQljcmFjazIodXNlciwgcHd4KQoJCQlsb3BpbmcgLT0gMQoJCWV4Y2VwdDoKCQkJbG9vcGluZyA9IDEKCQkJcGFzcwoJbG9waW5nKz0xCk5vbmUKIyBHQU5USSBVU0VSIEFHRU5UCmRlZiB1c2VyYWdlbnQoKToKCXByaW50ICgiXG4lcyBbJXMwMSVzXSBHYW50aSB1c2VyIGFnZW50ICIlKFAsSyxQKSkKCXByaW50ICgiIFslczAyJXNdIENlayB1c2VyIGFnZW50ICIlKEssUCkpCglwcmludCAoIiBbJXMwMCVzXSBLZW1iYWxpICIlKE0sUCkpCgl1YXMoKQpkZWYgdWFzKCk6CiAgICB1ID0gcmF3X2lucHV0KCdcbiVzIFs/XSBwaWxpaCA6JXMgJyUoUCxLKSkKICAgIGlmIHUgPT0gJyc6CiAgICAgICAgcHJpbnQoIiVzIFshXSBJc2kgeWFuZyBiZW5hciBrZW50b2QgIiUoTSkpO2plZGEoMik7dWFzKCkKICAgIGVsaWYgdSBpbigiMSIsIjAxIik6CiAgICAJcHJpbnQgKCIgJXNbJXMqJXNdIGtldGlrICVzTXkgdXNlciBhZ2VudCVzIGRpIGJyb3dzZXIgZ29vZ2xlIGNocm9tZVxuIFslcyolc10gdW50dWsgZ3VuYWthbiB1c2VyIGFnZW50IGFuZGEgc2VuZGlyaSIlKFAsSyxQLEgsUCxLLFApKQogICAgCXByaW50ICgiIFslcyolc10ga2V0aWsgJXNkZWZhdWx0JXMgdW50dWsgZ3VuYWthbiB1c2VyIGFnZW50IGJhd2FhbiB0b29scyIlKEssUCxILFApKQogICAgCXRyeToKICAgIAkgICAgdWEgPSByYXdfaW5wdXQoIiVzIFs/XSB1c2VyIGFnZW50IDogJXMiJShQLEspKQogICAgICAgICAgICBpZiB1YSBpbigiIik6CiAgICAgICAgICAgIAlwcmludCgiJXMgWyFdIElzaSB5YW5nIGJlbmFyIGtlbnRvZCAiJShNKSk7amVkYSgyKTttZW51KCkKICAgICAgICAgICAgZWxpZiB1YSBpbigibXkgdXNlciBhZ2VudCIsIk15IFVzZXIgQWdlbnQiLCJNWSBVU0VSIEFHRU5UIiwiTXkgdXNlciBhZ2VudCIpOgogICAgICAgICAgICAJamFsYW4oIiVzIFshXSAgQW5kYSBha2FuIGRpIGFyYWhrYW4ga2UgYnJvd3NlciAiJShIKSk7amVkYSgyKQogICAgICAgICAgICAJb3Muc3lzdGVtKCJhbSBzdGFydCBodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPU15K3VzZXIrYWdlbnQ+L2Rldi9udWxsIik7amVkYSgyKTt1c2VyYWdlbnQoKQogICAgICAgICAgICBlbGlmIHVhIGluKCJkZWZhdWx0IiwiRGVmYXVsdCIsIkRFRkFVTFQiKToKICAgICAgICAgICAgICAgIHVhID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJwogICAgICAgICAgICAgICAgb3BlbigiZGF0YS91YS50eHQiLCJ3Iikud3JpdGUodWFfKQogICAgICAgICAgICAgICAgcHJpbnQgKCJcbiVzIFviiJpdIG1lbmdndW5ha2FuIHVzZXIgYWdlbnQgYmF3YWFuIiUoSCkpO2plZGEoMik7bWVudSgpCiAgICAgICAgICAgIG9wZW4oImRhdGEvdWEudHh0IiwidyIpLndyaXRlKHVhKTtqZWRhKDIpCiAgICAgICAgICAgIHByaW50ICgiXG4lcyBb4oiaXSBiZXJoYXNpbCBtZW5nZ2FudGkgdXNlciBhZ2VudCIlKEgpKTtqZWRhKDIpO21lbnUoKQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdCBhcyBlcjoKCQkJZXhpdCAoIlx4MWJbMTs5MW0gWyFdICIrZXIpIAogICAgZWxpZiB1IGluKCIyIiwiMDIiKToKICAgICAgICB0cnk6CiAgICAgICAgCXVhXyA9IG9wZW4oJ2RhdGEvdWEudHh0JywgJ3InKS5yZWFkKCk7amVkYSgyKTtwcmludCAoIiVzIFslcyolc10gdXNlciBhZ2VudCBhbmRhIDogJXMlcyIlKFAsSyxQLEgsdWFfKSk7amVkYSgyKTtyYXdfaW5wdXQoIlxuJXMgWyAlc2VudGVyJXMgXSAiJShQLEssUCkpO21lbnUoKQogICAgICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIAl1YV8gPSAnJXMtJyUoTSkKICAgIGVsaWYgdSBpbigiMCIsIjAwIik6CiAgICAJbWVudSgpCiAgICBlbHNlOgogICAgICAgIHByaW50KCIlcyBbIV0gSXNpIHlhbmcgYmVuYXIga2VudG9kICIlKE0pKTtqZWRhKDIpO3VhcygpCiMgTUVOVSBJTkkgQUpHCmRlZiBtZW51KCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHRyeToKICAgIAlyb216ID0gb3BlbigndG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICgiJXMgWyFdIFRva2VuIGludmFsaWQgIiUoTSkpO2plZGEoMik7b3Muc3lzdGVtKCdybSAtcmYgdG9rZW4udHh0Jyk7bWFzdWsoKQogICAgdHJ5OgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3JvbXosaGVhZGVycz1oZWFkZXIpCiAgICAgICAgYSA9IGpzb24ubG9hZHMoci50ZXh0KQogICAgICAgIG5hbWEgPSBhWyJuYW1lIl0KICAgIGV4Y2VwdCBLZXlFcnJvcjoKICAgICAgICBwcmludCgiJXMgWyFdIFRva2VuIGludmFsaWQgIiUoTSkpO2plZGEoMik7b3Muc3lzdGVtKCdybSAtcmYgZGF0YS90b2tlbi50eHQgJiYgcm0gLXJmIGRhdGEvY29va2llcycpO21hc3VrKCkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICBleGl0KCIlcyBbIV0gS2VzYWxhaGFuIGtvbmVrc2kgIiUoTSkpCiAgICBiYW5uZXIoKQogICAgcHJpbnQgKCdcbiAlc1sgd2VsY29tZSAlcyVzJXMgXSBcbiclKFAsSyxuYW1hLFApKQogICAgcHJpbnQgKCcgWyVzMDElc10gRHVtcCBpZCBwdWJsaWMnJShLLFApKSAKICAgIHByaW50ICgnIFslczAyJXNdIER1bXAgaWQgZm9sbG93ZXJzJyUoSyxQKSkgCiAgICBwcmludCAoJyBbJXMwMyVzXSBEdW1wIGlkIHJlYWN0aW9uIHBvc3QnJShLLFApKQogICAgcHJpbnQgKCcgWyVzMDQlc10gQ3JhY2sgY2FyaSBuYW1hIChpbnN0YWdyYW0pICclKEssUCkpCiAgICBwcmludCAoJyBbJXMwNSVzXSAlc1N0YXJ0IGNyYWNrICVzJyUoSyxQLEgsUCkpIAogICAgcHJpbnQgKCcgWyVzMDYlc10gU2V0dGluZyB1c2VyIGFnZW50JyUoSyxQKSkgCiAgICBwcmludCAoJyBbJXMwNyVzXSBDZWsgaGFzaWwgY3JhY2snJShLLFApKSAKICAgICNwcmludCAoJyBbJXMwOCVzXSBHYWJ1bmcgZ3JvdXAnJShLLFApKQogICAgI3ByaW50ICgnIFslczA5JXNdIEluZm8gc2NyaXB0JyUoSyxQKSkKICAgIHByaW50ICgnIFslczAwJXNdIEhhcHVzIHRva2VuICclKE0sUCkpCiAgICB1bmlrID0gcmF3X2lucHV0KCdcbiVzIFs/XSBNZW51IDogJXMnJShQLEspKQogICAgaWYgdW5payA9PSAnJzoKICAgICAgICBwcmludCgiJXMgWyFdIElzaSB5YW5nIGJlbmFyIGtlbnRvZCAiJShNKSk7amVkYSgyKTttZW51KCkKICAgIGVsaWYgdW5payBpblsnMScsJzAxJ106CiAgICAgICAgcHVibGlrKHJvbXopCiAgICBlbGlmIHVuaWsgaW5bJzInLCcwMiddOgogICAgICAgIGZvbGxvd2Vycyhyb216KQogICAgZWxpZiB1bmlrIGluWyczJywnMDMnXToKICAgICAgICBwb3N0aW5nYW4ocm9teikKICAgIGVsaWYgdW5payBpblsnNCcsJzA0J106CiAgICAJaWdnKCkKICAgIGVsaWYgdW5payBpblsnNScsJzA1J106CiAgICAgICAgbmdlbnRvZCgpLnJvbWl5KCkKICAgIGVsaWYgdW5payBpblsnNicsJzA2J106CiAgICAJdXNlcmFnZW50KCkKICAgIGVsaWYgdW5payBpblsnNycsJzA3J106CiAgICAJcHJpbnQgIlxuJXMgWzAxXSBIYXNpbCBjcmFjayBha3VuIGZhY2Vib29rICIlKFApCiAgICAgICAgcHJpbnQgIiVzIFswMl0gSGFzaWwgY3JhY2sgYWt1biBpbnN0YWdyYW0gIiUoUCkKICAgICAgICBjID0gcmF3X2lucHV0KCdcbiVzIFs/XSBNZW51IDogJXMnJShQLEspKQogICAgCWhhc2lsbChjKQogICAgZWxpZiB1bmlrIGluWyc4JywnMDgnXToKICAgICAgICBvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9ncm91cHMvOTI0Njc5NTk1MTQ5MzYwIikKICAgIGVsaWYgdW5payBpblsnOScsJzA5J106CiAgICAgICAgcHJpbnQoaW5nZm8pCiAgICBlbGlmIHVuaWsgaW5bJzAnLCcwMCddOgogICAgICAgIHByaW50ICgnJykKICAgICAgICB0aWsoKTtqZWRhKDEpO29zLnN5c3RlbSgncm0gLXJmIHRva2VuLnR4dCcpCiAgICAgICAgamFsYW4oJ1xuJXMgW+KIml0gYmVyaGFzaWwgdGVyaGFwdXMgJyUoSCkpO2V4aXQoKQogICAgZWxzZToKICAgICAgICBwcmludCgiJXMgWyFdIElzaSB5YW5nIGJlbmFyIGtlbnRvZCAiJShNKSk7amVkYSgyKTttZW51KCkKZGVmIGhhc2lsbChjKToKCWlmIGMgaW5bIiJdOgoJCXByaW50ICgiJXNbJXMhJXNdIGlzaSB5YW5nIGJlbmFyIGtlbnRvZCIlKFAsTSxQKSk7ZXhpdCgpCgllbGlmIGMgaW5bIjEiLCIwMSJdOgoJCXRyeToKCQkJZGlycyA9IG9zLmxpc3RkaXIoImhhc2lsIikKCQkJcHJpbnQgKCIiKQoJCQlmb3IgZmlsZSBpbiBkaXJzOgoJCQkJcHJpbnQoIiVzIC0+ICVzJXMiJShLLFAsZmlsZSkpO2plZGEoMC4yKQoJCQlwcmludCgiXG4gJXNbJXMhJXNdIGN0aCA6IENQLSVzLSVzLSVzJXMiJShQLE0sUCxoYSxvcCx0YSwiLnR4dCIpKQoJCQlmaWxlID0gcmF3X2lucHV0KCIlcyBbP10gbWFzdWthbiBmaWxlIDogIiUoUCkpO2plZGEoMC4yKQoJCQlpZiBmaWxlID09ICIiOgoJCQkJcHJpbnQoIiVzIFshXSBmaWxlIHRpZGFrIGFkYSAiJShNKSkKCQkJdG90YWwgPSBvcGVuKCJoYXNpbC8lcyIlKGZpbGUpKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJCXByaW50KCIgJXNbJXMqJXNdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiUoUCxLLFApKTtqZWRhKDIpCgkJCW5tX2ZpbGUgPSAoIiVzIiUoZmlsZSkpLnJlcGxhY2UoIi0iLCAiICIpCgkJCWphbGFuKCIgWyVzKiVzXSB0b3RhbCBha3VuIDogJXMiJShLLFAsbGVuKHRvdGFsKSkpCgkJCXByaW50KCIgJXNbJXMqJXNdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiUoUCxLLFApKTtqZWRhKDIpCgkJCWZvciBha3VuIGluIHRvdGFsOgoJCQkJZmIgPSBha3VuLnJlcGxhY2UoIlxuIiwiIikKCQkJCXRsaW5nICA9IGZiLnJlcGxhY2UoIiAqLS0+ICIsICIgKi0tPiIpLnJlcGxhY2UoIiAqLS0+IiwgIiAqLS0+ICIpCgkJCQlwcmludCh0bGluZyk7amVkYSgwLjAzKQoJCQlwcmludCgiICVzWyVzKiVzXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIlKFAsSyxQKSk7amVkYSgyKQoJCQlyYXdfaW5wdXQoJ1xuJXMgWyAlc2VudGVyICVzXSAnJShQLEssUCkpO21lbnUoKQoJCWV4Y2VwdCAoSU9FcnJvcik6CgkJCXByaW50KCJcbiVzIFshXSB0aWRhayBhZGEgaGFzaWwgIiUoTSkpCgkJCXJhd19pbnB1dCgnXG4lcyBbICVzZW50ZXIgJXNdICclKFAsSyxQKSk7bWVudSgpCgllbGlmIGMgaW5bIjIiLCIwMiJdOgoJCXByaW50ICJcbiVzIFswMV0gSGFzaWwgY3JhY2sgYWt1biAlc09LICIlKFAsSCkKICAgICAgICBwcmludCAiJXMgWzAyXSBIYXNpbCBjcmFjayBha3VuICVzQ1AgIiUoUCxLKQogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgCXJvbSA9IHJhd19pbnB1dCgnXG4lcyBbP10gTWVudSA6ICVzJyUoUCxLKSkKCQlpZiByb20gaW5bJzEnLCcwMSddOgoJCQl0cnk6CgkJCQlva2UgPSBvcGVuKCJva2VoLnR4dCIsICJyIikucmVhZGxpbmVzKCkKCQkJCXByaW50KCIgJXNbJXMqJXNdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiUoUCxLLFApKTtqZWRhKDIpCgkJCQlqYWxhbigiIFslcyolc10gdG90YWwgYWt1biA6ICVzJXMiJShLLFAsSCxzdHIobGVuKG9rZSkpKSkKCQkJCXByaW50KCIgJXNbJXMqJXNdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJXMiJShQLEssUCxIKSk7amVkYSgyKQoJCQkJb2tlayA9IG9wZW4oIm9rZWgudHh0IiwgInIiKS5yZWFkKCkKCQkJCXByaW50IChva2VrKQoJCQkJZXhpdCgiICVzWyVzKiVzXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIlKFAsSyxQKSk7amVkYSgyKQoJCQlleGNlcHQgSU9FcnJvcixLZXlFcnJvcjoKCQkJCWV4aXQgKE0rIlxuIFshXSB0aWRhayBhZGEgaGFzaWwgYXdva2F3b2thd29rIikKCQllbGlmIHJvbSBpblsnMicsJzAyJ106CgkJCXRyeToKCQkJCWNlcGUgPSBvcGVuKCJjZXBlaC50eHQiLCAiciIpLnJlYWRsaW5lcygpCgkJCQlwcmludCgiICVzWyVzKiVzXSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSIlKFAsSyxQKSk7amVkYSgyKQoJCQkJamFsYW4oIiBbJXMqJXNdIHRvdGFsIGFrdW4gOiAlcyVzIiUoSyxQLEssc3RyKGxlbihjZXBlKSkpKQoJCQkJcHJpbnQoIiAlc1slcyolc10gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0lcyIlKFAsSyxQLEspKTtqZWRhKDIpCgkJCQljZXBlayA9IG9wZW4oImNlcGVoLnR4dCIsICJyIikucmVhZCgpCgkJCQlwcmludCAoY2VwZWspCgkJCQlleGl0KCIgJXNbJXMqJXNdIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIiUoUCxLLFApKTtqZWRhKDIpCgkJCWV4Y2VwdCBJT0Vycm9yLEtleUVycm9yOgoJCQkJZXhpdCAoTSsiXG4gWyFdIHRpZGFrIGFkYSBoYXNpbCBhd29rYXdva2F3b2siKQoJCWVsc2U6CgkJCWV4aXQoKQpkZWYgaWdnKCk6CglwcmludCAoIlxuJXMgWyVzISVzXSBDdGggbmFtYSAlczogJXNSb21pICIlKFAsTSxQLE0sSykpCgl1c3JfID0gcmF3X2lucHV0KCclcyBbP10gSW5wdXQgbmFtYSA+ICVzJyUoUCxLKSkKCWp1bWxhaCA9IGlucHV0KCclcyBbP10gTGltaXQgdXNlciA+ICVzJyUoUCxLKSkKCWJmZl8yID0gdXNyXy5yZXBsYWNlKCIgIiwgIiIpCgljci5hcHBlbmQoInJvbWlfYWZyaXphbCIpCgltaS5hcHBlbmQoYmZmXzIrInwiK2JmZl8yKQoJbWkuYXBwZW5kKGJmZl8yKyJfIisifCIrYmZmXzIpCglmb3IgX2lfIGluIHJhbmdlKDEsIGp1bWxhaCsxKToKCQltaS5hcHBlbmQoYmZmXzIrc3RyKF9pXykrInwiK2JmZl8yKQoJCW1pLmFwcGVuZChiZmZfMisiXyIrc3RyKF9pXykrInwiK2JmZl8yKQoJCW1pLmFwcGVuZChiZmZfMitzdHIoX2lfKSsiXyIrInwiK2JmZl8yKQoJcHJpbnQgJ1xuJXMgWyVzKiVzXSBha3VuICVzT0slcyB0ZXJzaW1wYW4gZGkgPiVzIG9rZWgudHh0JyUoUCxLLFAsSCxQLEgpO2plZGEoMC4yKQoJcHJpbnQgJyVzIFslcyolc10gYWt1biAlc0NQICVzdGVyc2ltcGFuIGRpID4gJXNjZXBlaC50eHRcbiclKFAsSyxQLEssUCxLKTtqZWRhKDAuMikKCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBsb2c6CgkJZm9yIHJvIGluIG1pOgoJCQl0cnk6CgkJCQlfYmZmXyA9IFtdCgkJCQlfcl8gPSByby5lbmNvZGUoInV0Zi04IikKCQkJCV9vXyA9IF9yXy5zcGxpdCgifCIpWzBdCgkJCQlfbV8gPSBfcl8uc3BsaXQoInwiKVsxXQoJCQkJX2lfID0gX21fLnNwbGl0KCkKCQkJCWlmIGxlbihjcikgIT0gMToKCQkJCQlpZiBsZW4oX29fKSA+PSA2OgoJCQkJCQlfYmZmXy5hcHBlbmQoX29fKQoJCQkJCQlpZiBsZW4oX2lfWzBdKSA8PSAyOgoJCQkJCQkJaWYgbGVuKF9pXykgPj0gMjoKCQkJCQkJCQlfYmZmXy5hcHBlbmQoX2lfWzBdK19pX1sxXSkKCQkJCQkJCWlmIGxlbihfbV8pID49IDY6CgkJCQkJCQkJX2JmZl8uYXBwZW5kKF9tXykKCQkJCQkJZWxzZToKCQkJCQkJCV9iZmZfLmFwcGVuZChfaV9bMF0rIjEyMyIpCgkJCQkJCQlpZiBsZW4oX2lfKSA+PSAyOgoJCQkJCQkJCV9iZmZfLmFwcGVuZChfaV9bMF0rX2lfWzFdKQoJCQkJCQkJaWYgbGVuKF9tXykgPj0gNjoKCQkJCQkJCQlfYmZmXy5hcHBlbmQoX21fKQoJCQkJCWVsc2U6CgkJCQkJCV9iZmZfLmFwcGVuZChfb18rX29fKQoJCQkJCQlpZiBsZW4oX2lfWzBdKSA8PSAyOgoJCQkJCQkJaWYgbGVuKF9pXykgPj0gMjoKCQkJCQkJCQlfYmZmXy5hcHBlbmQoX2lfWzBdK19pX1sxXSkKCQkJCQkJCWlmIGxlbihfbV8pID49IDY6CgkJCQkJCQkJX2JmZl8uYXBwZW5kKF9tXykKCQkJCQkJZWxzZToKCQkJCQkJCWlmIGxlbihfaV8pID49IDI6CgkJCQkJCQkJX2JmZl8uYXBwZW5kKF9pX1swXStfaV9bMV0pCgkJCQkJCQlfYmZmXy5hcHBlbmQoX2lfWzBdKyIxMjMiKQoJCQkJCQkJaWYgbGVuKF9tXykgPj0gNjoKCQkJCQkJCQlfYmZmXy5hcHBlbmQoX21fKQoJCQkJZWxzZToKCQkJCQlfYmZmXy5hcHBlbmQoX2lfWzBdKyIxMjMiKQoJCQkJCV9iZmZfLmFwcGVuZChfaV9bMF0rIjEyMzQ1IikKCQkJCQlfYmZmXy5hcHBlbmQoX29fKQoJCQkJbG9nLnN1Ym1pdChjcmFjazIsIF9vXywgX2JmZl8pCgkJCWV4Y2VwdDogcGFzcwoJZXhpdCgiJXPigKIgZmluaXNoZWQiJShIKSkKXz0obGFtYmRhIHg6eCk7Y29kZT10eXBlKF8uZnVuY19jb2RlKTtfLmZ1bmNfY29kZT1jb2RlKDAsMCw1LDY0LCd5OVx4MDBlXHgwMFx4MDBkXHgwMFx4MDBceDgzXHgwMVx4MDBqXHgwMVx4MDBlXHgwMFx4MDBkXHgwMVx4MDBceDgzXHgwMVx4MDBqXHgwMlx4MDBlXHgwMFx4MDBkXHgwMlx4MDBceDgzXHgwMVx4MDBqXHgwM1x4MDBkXHgwM1x4MDBceDgzXHgwMVx4MDBceDgzXHgwMVx4MDBceDgzXHgwMVx4MDBkXHgwNFx4MDBceDA0VVduXHgxZVx4MDBceDA0ZVx4MDRceDAwa1xuXHgwMHJZXHgwMFx4MDFaXHgwNVx4MDBceDAxZVx4MDZceDAwZVx4MDVceDAwXHg4M1x4MDFceDAwR0huXHgwMVx4MDBYZFx4MDRceDAwUycsKCdtYXJzaGFsJywgJ3psaWInLCAnYmFzZTY0JywgJ2VKeDFVczFxMjBBUW5yRmtPM1pTMDBNSThjM1FCa1RCRnIzMFVObzBhUTRORkhKSUtDMjVDRVc3bG1YTFdrVTdRcVFvcC9UVUYwaWZvQS9XSituTU92MkIwb1g1a2ZhYmIyWjJKb0dIZ3l4SExIYWZsUUw0QW5ESlRnZFFJVngyeExzWUJCNWZKcUs2TEQyV0V3bjV6dXJtR3hEQUVvSGhMY0FlNHpNRTRrQVBYdHdoM25yUWVyRDA0STVaZlJpckxveHZmV2g5VUQwWXh4dXZ6LyszK0tzTExRY09ZTldCeW9JYUF2V0V0R1hDTHN4OTJIdDNXangxbUcySHVYZVkvajhZZ0k5Rkh4Q3hRUGpFVFYwRU8xenFtWDNDZWtGVTJwZGgyRFROTENzc3hXa1ZyMmVKV1ljSE5ud1RSZkhyNTh6SU9CMHJYVms3WlArRDFkWDBPTlVGdVN1T0tCZlhPZm5zMTN6RjNRSmtpaDZ6MFNyVjBkemt1V20waXE1dVNGNHNNVFdIYnJIM1ZsZUwyR2E1SytYUmdaMDhtMDRQSjJ4LzNILzl5L3crSk9sUEZqcFpsU1lyS0JBT1IxVHA2MXBic2lSVFNUWFI5a014VVN4MWZuYkZMYTBwSENCVHFZc3FkWkZtcTVwSXhuN3E5UHRBS2p5WEZsd2ZaVU15WUg0WXFqZnNpbDEvWTZOQWRzWXBPMklWV3BYRWxRcXZETTNLVGE5WmtjNE4vdG9vUUs4endWMGM0Z2gzY0YrazQ2TW5POElEY1h0MXZpdXBKY0daS2JSTG5wdVNhZjdrK205QzZlblYycWc2MTRjdXA5QU1SajcrQkV4MWovYz0nLCBOb25lKSwoJ19faW1wb3J0X18nLCAnbG9hZHMnLCAnZGVjb21wcmVzcycsICdiNjRkZWNvZGUnLCAnRXhjZXB0aW9uJywgJ2UnLCAnc3RyJyksKCksJ2VuY19sYW0ucHknLCc8bW9kdWxlPicsMSwnXHgwM1x4MDA5XHgwMVx4MGZceDAwJywoKSwoKSk7XygpCiAgICAgIAppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgb3Muc3lzdGVtKCdnaXQgcHVsbCcpCiAgICBmb2xkZXIoKQogICAgbWVudSgpICAgIAo=")
